# ============================================================================
# AIBidComposer - Docker Compose 环境变量示例
# ============================================================================
# 复制此文件为 .env 并填写实际值
# 注意：.env 文件不应提交到版本控制

# ============================================================================
# 全局配置
# ============================================================================
# 项目名称
COMPOSE_PROJECT_NAME=aibidcomposer

# 时区配置
TZ=Asia/Shanghai

# ============================================================================
# PostgreSQL 数据库配置
# ============================================================================
POSTGRES_VERSION=15-alpine
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=aibidcomposer
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_postgres_password_change_me

# PostgreSQL 连接URL（Java使用）
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# JDBC URL（Java Spring Boot使用）
JDBC_URL=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# Elasticsearch 配置
# ============================================================================
ELASTICSEARCH_VERSION=8.11.0
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=your_secure_elasticsearch_password_change_me

# Elasticsearch 连接URL
ELASTICSEARCH_URL=http://${ELASTICSEARCH_USER}:${ELASTICSEARCH_PASSWORD}@${ELASTICSEARCH_HOST}:${ELASTICSEARCH_PORT}

# Java堆内存配置
ES_JAVA_OPTS=-Xms2g -Xmx2g

# ============================================================================
# Redis 配置
# ============================================================================
REDIS_VERSION=7-alpine
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_change_me

# Redis 连接URL
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# ============================================================================
# RabbitMQ 配置
# ============================================================================
RABBITMQ_VERSION=3-management-alpine
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USER=rabbitmq
RABBITMQ_PASSWORD=your_secure_rabbitmq_password_change_me

# RabbitMQ 连接URL
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/

# ============================================================================
# MinIO 对象存储配置
# ============================================================================
MINIO_VERSION=latest
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=your_secure_minio_password_change_me

# MinIO 连接配置
MINIO_ENDPOINT=http://${MINIO_HOST}:${MINIO_PORT}
MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}
MINIO_BUCKET_NAME=aibidcomposer

# ============================================================================
# Neo4j 图数据库配置（可选，知识图谱）
# ============================================================================
NEO4J_VERSION=5.13-community
NEO4J_HOST=neo4j
NEO4J_BOLT_PORT=7687
NEO4J_HTTP_PORT=7474
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_neo4j_password_change_me

# Neo4j 连接URI
NEO4J_URI=bolt://${NEO4J_HOST}:${NEO4J_BOLT_PORT}

# ============================================================================
# Java Spring Boot 服务配置
# ============================================================================
# 服务端口
JAVA_SERVICE_PORT=8080

# Spring Profile（dev/test/prod）
SPRING_PROFILES_ACTIVE=dev

# JWT 配置
JWT_SECRET=your_jwt_secret_key_min_32_characters_long_change_me_immediately
JWT_EXPIRATION=86400

# OAuth2 配置（可选）
OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=

# 日志级别
LOG_LEVEL=INFO

# ============================================================================
# Python FastAPI AI 服务配置
# ============================================================================
# 服务端口
PYTHON_SERVICE_PORT=8001

# 工作进程数
WORKERS=4

# 环境
ENVIRONMENT=development

# Python 日志级别
PYTHON_LOG_LEVEL=INFO

# ============================================================================
# AI 服务配置（LLM API Keys）
# ============================================================================
# OpenAI API 配置
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# Anthropic Claude API 配置
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-opus-20240229

# 智谱 AI 配置（可选）
ZHIPU_API_KEY=your-zhipu-api-key-here

# 百度文心一言配置（可选）
BAIDU_API_KEY=your-baidu-api-key-here
BAIDU_SECRET_KEY=your-baidu-secret-key-here

# ============================================================================
# 向量数据库配置（Pinecone作为备选方案）
# ============================================================================
# 注意：主力方案是 Elasticsearch，Pinecone 作为云端备选
PINECONE_API_KEY=your-pinecone-api-key-here
PINECONE_ENVIRONMENT=your-pinecone-environment

# ============================================================================
# React 前端服务配置
# ============================================================================
# 开发服务器端口
FRONTEND_DEV_PORT=5173

# 生产环境端口（Nginx）
FRONTEND_PROD_PORT=80

# API 基础URL（前端环境变量需要 VITE_ 前缀）
VITE_JAVA_API_BASE_URL=http://localhost:${JAVA_SERVICE_PORT}
VITE_AI_API_BASE_URL=http://localhost:${PYTHON_SERVICE_PORT}
VITE_WS_BASE_URL=ws://localhost:${JAVA_SERVICE_PORT}

# 应用配置
VITE_APP_NAME=AIBidComposer
VITE_APP_ENV=development
VITE_DEBUG=true

# ============================================================================
# 服务间通信配置
# ============================================================================
# Java 服务调用 Python AI 服务
AI_SERVICE_URL=http://backend-python:${PYTHON_SERVICE_PORT}

# Python 服务调用 Java 服务（用于数据查询）
JAVA_SERVICE_URL=http://backend-java:${JAVA_SERVICE_PORT}

# ============================================================================
# 监控和日志配置（可选）
# ============================================================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Jaeger（分布式追踪）
JAEGER_PORT=16686

# ============================================================================
# 备份配置
# ============================================================================
# 备份目录
BACKUP_DIR=./backups

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# ============================================================================
# 开发工具配置
# ============================================================================
# pgAdmin（PostgreSQL 管理工具）
PGADMIN_PORT=5050
PGADMIN_DEFAULT_EMAIL=admin@aibidcomposer.com
PGADMIN_DEFAULT_PASSWORD=admin

# Elasticsearch Head（可选）
ES_HEAD_PORT=9100

# ============================================================================
# 安全配置
# ============================================================================
# CORS 允许的源
CORS_ORIGINS=http://localhost:5173,http://localhost:${FRONTEND_PROD_PORT}

# 安全密钥（用于加密敏感数据）
SECRET_KEY=your_secret_key_for_encryption_min_32_characters_change_me

# ============================================================================
# 性能配置
# ============================================================================
# 数据库连接池
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# Redis 连接池
REDIS_POOL_SIZE=10

# HTTP 超时（秒）
HTTP_TIMEOUT=30

# AI 请求超时（秒，AI操作通常需要更长时间）
AI_TIMEOUT=120

# ============================================================================
# 功能开关
# ============================================================================
# 启用 AI 功能
ENABLE_AI=true

# 启用协作功能
ENABLE_COLLABORATION=true

# 启用知识图谱
ENABLE_KNOWLEDGE_GRAPH=false

# 启用缓存
ENABLE_CACHE=true

# 启用分布式追踪
ENABLE_TRACING=false

# ============================================================================
# 文件上传配置
# ============================================================================
# 最大文件大小（MB）
MAX_FILE_SIZE=50

# 允许的文件扩展名
ALLOWED_EXTENSIONS=.pdf,.docx,.xlsx,.pptx,.jpg,.png

# ============================================================================
# 邮件配置（可选）
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@aibidcomposer.com
SMTP_TLS=true

# ============================================================================
# 第三方服务配置（可选）
# ============================================================================
# 阿里云 OSS（备选对象存储）
ALIYUN_OSS_ACCESS_KEY=
ALIYUN_OSS_SECRET_KEY=
ALIYUN_OSS_BUCKET=
ALIYUN_OSS_ENDPOINT=

# 腾讯云 COS（备选对象存储）
TENCENT_COS_SECRET_ID=
TENCENT_COS_SECRET_KEY=
TENCENT_COS_BUCKET=
TENCENT_COS_REGION=

# ============================================================================
# 开发模式特殊配置
# ============================================================================
# 热重载
WATCHPACK_POLLING=true

# 调试模式
DEBUG=true

# SQL 日志
SHOW_SQL=true

# ============================================================================
# 注意事项
# ============================================================================
# 1. 生产环境必须修改所有默认密码
# 2. JWT_SECRET 和 SECRET_KEY 必须是强随机字符串（至少32字符）
# 3. API Keys 需要从对应服务商申请
# 4. 生产环境建议使用 Docker Secrets 或外部密钥管理服务
# 5. 数据库密码强度要求：大小写字母+数字+特殊字符，至少16位

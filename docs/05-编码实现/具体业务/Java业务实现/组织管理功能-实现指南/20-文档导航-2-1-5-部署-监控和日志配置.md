# Java Spring Boot - JAVA-002 Part1 (ç»„ç»‡ç®¡ç†: æ•°æ®+å‰ç«¯) - ğŸ“‘ æ–‡æ¡£å¯¼èˆª - 2.1.5: éƒ¨ç½² - ç›‘æ§å’Œæ—¥å¿—é…ç½®

**Prometheus ServiceMonitor**:
```yaml
# k8s/monitoring/servicemonitor.yaml
# éœ€æ±‚ç¼–å·: REQ-JAVA-002
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: backend-java-monitor
  namespace: aibidcomposer
  labels:
    app: backend-java
spec:
  selector:
    matchLabels:
      app: backend-java
  endpoints:
  - port: http
    path: /actuator/prometheus
    interval: 30s

---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: backend-python-monitor
  namespace: aibidcomposer
  labels:
    app: backend-python
spec:
  selector:
    matchLabels:
      app: backend-python
  endpoints:
  - port: http
    path: /metrics
    interval: 30s
```

**Fluentd DaemonSet (æ—¥å¿—æ”¶é›†)**:
```yaml
# k8s/logging/fluentd-daemonset.yaml
# éœ€æ±‚ç¼–å·: REQ-JAVA-002
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: fluentd
  namespace: kube-system
spec:
  selector:
    matchLabels:
      k8s-app: fluentd-logging
  template:
    metadata:
      labels:
        k8s-app: fluentd-logging
    spec:
      containers:
      - name: fluentd
        image: fluent/fluentd-kubernetes-daemonset:v1-debian-elasticsearch
        env:
        - name: FLUENT_ELASTICSEARCH_HOST
          value: "elasticsearch.logging.svc.cluster.local"
        - name: FLUENT_ELASTICSEARCH_PORT
          value: "9200"
        - name: FLUENT_ELASTICSEARCH_SCHEME
          value: "http"
        volumeMounts:
        - name: varlog
          mountPath: /var/log
        - name: varlibdockercontainers
          mountPath: /var/lib/docker/containers
          readOnly: true
      volumes:
      - name: varlog
        hostPath:
          path: /var/log
      - name: varlibdockercontainers
        hostPath:
          path: /var/lib/docker/containers
```

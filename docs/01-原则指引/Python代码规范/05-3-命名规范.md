---
文档类型: 知识库文档
需求编号: DOC-2025-11-004
创建日期: 2025-11-26
创建者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
最后更新: 2025-11-26
更新者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
状态: 已批准
---

# Python 代码规范 - 3. 命名规范

### 3.1 命名风格

| 类型 | 命名风格 | 示例 |
|------|---------|------|
| 模块/包 | `lowercase` or `lower_with_under` | `parser` or `document_parser` |
| 类 | `CapWords` (PascalCase) | `DocumentParser`, `AIService` |
| 函数/方法 | `lower_with_under` | `parse_document`, `analyze_content` |
| 变量 | `lower_with_under` | `user_name`, `doc_id` |
| 常量 | `UPPER_WITH_UNDER` | `MAX_RETRIES`, `DEFAULT_TIMEOUT` |
| 类型变量 | `CapWords` | `T`, `RequestType`, `ResponseType` |

### 3.2 模块名

```python
# ✅ 正确
import document_parser
import ai_service
from utils import text_processor

# ❌ 错误
import DocumentParser  # ❌ 不要用驼峰
import ai-service      # ❌ 不要用连字符
```

### 3.3 类名

```python
# ✅ 正确：大驼峰（PascalCase）
class DocumentParser:
    pass

class AIService:
    pass

class VectorStoreManager:
    pass

# ❌ 错误
class document_parser:  # ❌ 应该用大驼峰
class Document_Parser:  # ❌ 不要用下划线
```

### 3.4 函数和方法名

```python
# ✅ 正确：小写+下划线
def parse_document(content: str) -> dict:
    pass

def analyze_requirements(doc_id: str) -> list:
    pass

def is_valid_format(file_path: str) -> bool:
    pass

# ❌ 错误
def parseDocument(content):  # ❌ 不要用驼峰
def ParseDocument(content):  # ❌ 不要用大驼峰
```

**常见命名模式**：
```python
# 查询方法
def get_document(doc_id: str) -> Document:
    pass

def find_by_id(doc_id: str) -> Optional[Document]:
    pass

def list_all() -> List[Document]:
    pass

# 布尔查询
def is_valid() -> bool:
    pass

def has_permission() -> bool:
    pass

def can_edit() -> bool:
    pass

# 处理方法
def process_document(doc: Document) -> dict:
    pass

def analyze_content(content: str) -> dict:
    pass
```

### 3.5 常量

```python
# ✅ 正确：全大写+下划线
MAX_RETRY_COUNT = 3
DEFAULT_TIMEOUT = 30
OPENAI_API_BASE_URL = "https://api.openai.com/v1"

# ✅ 正确：不可变集合也算常量
ALLOWED_FORMATS = frozenset(["pdf", "docx", "txt"])
DEFAULT_CONFIG = {
    "model": "gpt-4",
    "temperature": 0.7,
}

# ❌ 错误
maxRetryCount = 3  # ❌ 应该全大写
Max_Retry_Count = 3  # ❌ 不要混用大小写
```

### 3.6 私有属性和方法

```python
class DocumentParser:

    def __init__(self):
        self.public_attr = "公开属性"
        self._protected_attr = "保护属性（约定）"
        self.__private_attr = "私有属性（名称改编）"

    def public_method(self):
        """公开方法"""
        pass

    def _protected_method(self):
        """保护方法（约定，仅内部使用）"""
        pass

    def __private_method(self):
        """私有方法（名称改编，避免子类覆盖）"""
        pass
```

**命名约定**：
- **单下划线前缀** `_name`：内部使用（约定，非强制）
- **双下划线前缀** `__name`：名称改编（name mangling）
- **双下划线前后** `__name__`：魔术方法（如 `__init__`）

---

---
æ–‡æ¡£ç±»å‹: æ¶æ„æ–‡æ¡£
éœ€æ±‚ç¼–å·: DOC-2025-11-001
åˆ›å»ºæ—¥æœŸ: 2025-11-15
åˆ›å»ºè€…: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
æœ€åæ›´æ–°: 2025-11-26
æ›´æ–°è€…: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
çŠ¶æ€: å·²æ‰¹å‡†
---

# AIæ ‡ä¹¦æ™ºèƒ½åˆ›ä½œå¹³å° - æ•°æ®åº“è®¾è®¡ - ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### åˆ†åŒºè¡¨é…ç½®

```sql
-- ä¸ºå¤§è¡¨é…ç½®åˆ†åŒº (ä»¥audit_logsä¸ºä¾‹)
-- æŒ‰æœˆåˆ†åŒº
CREATE TABLE audit_logs_partitioned (
    LIKE audit_logs INCLUDING ALL
) PARTITION BY RANGE (created_at);

-- åˆ›å»ºåˆ†åŒº
CREATE TABLE audit_logs_2025_01 PARTITION OF audit_logs_partitioned
    FOR VALUES FROM ('2025-01-01') TO ('2025-02-01');

CREATE TABLE audit_logs_2025_02 PARTITION OF audit_logs_partitioned
    FOR VALUES FROM ('2025-02-01') TO ('2025-03-01');

-- ç»§ç»­åˆ›å»ºå…¶ä»–æœˆä»½åˆ†åŒº...
```

### ç‰©åŒ–è§†å›¾

```sql
-- é¡¹ç›®ç»Ÿè®¡ç‰©åŒ–è§†å›¾
CREATE MATERIALIZED VIEW project_statistics AS
SELECT
    organization_id,
    COUNT(*) as total_projects,
    COUNT(*) FILTER (WHERE status = 'won') as won_projects,
    COUNT(*) FILTER (WHERE status = 'lost') as lost_projects,
    AVG(budget_amount) as avg_budget,
    AVG(win_probability) as avg_win_probability
FROM projects
WHERE deleted_at IS NULL
GROUP BY organization_id;

CREATE UNIQUE INDEX ON project_statistics (organization_id);

-- åˆ·æ–°ç‰©åŒ–è§†å›¾(å®šæœŸæ‰§è¡Œ)
REFRESH MATERIALIZED VIEW CONCURRENTLY project_statistics;
```

---
文档类型: 实现文档
需求编号: DOC-2025-11-001
创建日期: 2025-11-29
创建者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
最后更新: 2025-11-29
更新者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
状态: 已批准
---

# AI标书智能创作平台 - 新增模块与实施计划

> **内容**: 后端服务搭建、认证系统、分阶段实施计划

## 📋 文档导航

本文档是功能复用实施指南的一部分，其他相关文档：

1. [00-功能复用实施指南总览.md](./00-功能复用实施指南总览.md) - 复用路线图和技术要求
2. [01-立即可复用的核心模块.md](./01-立即可复用的核心模块.md) - BlockNode、表单、模板
3. [02-需要改造的模块.md](./02-需要改造的模块.md) - 项目管理、AI助手改造
4. [03-基于Specs的高级复用方案.md](./03-基于Specs的高级复用方案.md) - 嵌套模板、用户管理等
5. **04-新增模块与实施计划.md**（本文档）- 后端服务、分阶段计划
6. [05-检查清单与工具脚本.md](./05-检查清单与工具脚本.md) - 复用检查、迁移脚本
7. [06-问题解决与优化建议.md](./06-问题解决与优化建议.md) - 常见问题、性能优化


### 4.1 后端服务搭建

#### Java Spring Boot 服务结构
```
backend/spring-boot-service/
├── src/main/java/com/aibidcomposer/
│   ├── controller/       # REST API 控制器
│   │   ├── AuthController.java
│   │   ├── ProjectController.java
│   │   └── DocumentController.java
│   ├── service/          # 业务逻辑层
│   │   ├── UserService.java
│   │   ├── ProjectService.java
│   │   └── DocumentService.java
│   ├── repository/       # 数据访问层
│   │   ├── UserRepository.java
│   │   └── ProjectRepository.java
│   ├── entity/           # JPA 实体
│   │   ├── User.java
│   │   └── Project.java
│   └── config/           # 配置类
│       ├── SecurityConfig.java
│       └── SwaggerConfig.java
```

#### Python FastAPI 服务结构
```
backend/fastapi-ai-service/
├── app/
│   ├── api/              # API 端点
│   │   ├── parse.py      # 文档解析
│   │   ├── generate.py   # 内容生成
│   │   └── search.py     # 智能检索
│   ├── services/         # 服务层
│   │   ├── llm_service.py
│   │   ├── rag_service.py
│   │   └── parser_service.py
│   ├── models/           # 数据模型
│   │   └── schemas.py
│   └── core/             # 核心配置
│       ├── config.py
│       └── llm_client.py
```

### 4.2 认证系统集成

```typescript
// 前端认证 Hook
function useAuth() {
  const [user, setUser] = useState(null);
  const navigate = useNavigate();

  const login = async (credentials: LoginCredentials) => {
    const response = await authAPI.login(credentials);
    const { token, user } = response.data;

    // 保存 token
    localStorage.setItem('access_token', token);
    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;

    setUser(user);
    navigate('/dashboard');
  };

  const logout = () => {
    localStorage.removeItem('access_token');
    delete axios.defaults.headers.common['Authorization'];
    setUser(null);
    navigate('/login');
  };

  return { user, login, logout, isAuthenticated: !!user };
}
```

## 五、分阶段实施计划

### Phase 1: 基础框架搭建（第1周）

```bash
# Day 1-2: 项目初始化
□ 创建新的 React 项目（基于 ai-doc 结构）
□ 安装 Ant Design Pro
□ 配置路径别名和基础配置

# Day 3-4: 核心模块复制
□ 复制 hooks 目录
□ 复制 utils 目录
□ 复制 types 目录

# Day 5-7: UI 框架切换
□ 创建 Ant Design 主题配置
□ 搭建基础布局（ProLayout）
□ 创建路由配置
```

### Phase 2: 编辑器集成（第2周）

```bash
# Day 8-9: BlockNode 移植
□ 复制编辑器代码
□ 适配 Ant Design 样式

# Day 10-11: 编辑器增强
□ 添加标书特定的内容块
□ 集成自动保存

# Day 12-14: 测试验证
□ 编辑器功能测试
□ 性能优化
```

### Phase 3: 业务功能开发（第3-4周）

```bash
# Week 3: 项目和模板管理
□ 项目管理模块改造
□ 模板管理系统实现
□ 文档管理基础功能

# Week 4: AI 功能集成
□ Python FastAPI 服务搭建
□ 文档解析功能
□ 内容生成功能
□ 前后端联调
```

### Phase 4: 后端服务完善（第5-6周）

```bash
# Week 5: Java 服务开发
□ Spring Boot 项目搭建
□ 用户认证系统
□ 数据 CRUD API

# Week 6: 服务集成
□ 服务间通信
□ 统一认证
□ 错误处理
```

## 六、代码复用检查清单

## 🔗 相关文档

- **功能复用总览**: [00-功能复用实施指南总览.md](./00-功能复用实施指南总览.md)
- **高级复用方案**: [03-基于Specs的高级复用方案.md](./03-基于Specs的高级复用方案.md)
- **检查清单与脚本**: [05-检查清单与工具脚本.md](./05-检查清单与工具脚本.md)

## 修改历史

| 日期 | 版本 | 修改者 | 修改内容概要 |
|------|------|--------|-------------|
| 2025-11-29 | 1.0 | claude-sonnet-4-5 (claude-sonnet-4-5-20250929) | 从ai-doc-功能复用实施指南.md拆分创建 |

---

**文档版本**: v1.0
**创建时间**: 2025年11月29日
**文档状态**: ✅ 已批准

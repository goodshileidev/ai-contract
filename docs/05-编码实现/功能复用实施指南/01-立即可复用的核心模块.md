---
æ–‡æ¡£ç±»å‹: å®ç°æ–‡æ¡£
éœ€æ±‚ç¼–å·: DOC-2025-11-001
åˆ›å»ºæ—¥æœŸ: 2025-11-29
åˆ›å»ºè€…: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
æœ€åæ›´æ–°: 2025-11-29
æ›´æ–°è€…: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
çŠ¶æ€: å·²æ‰¹å‡†
---

# AIæ ‡ä¹¦æ™ºèƒ½åˆ›ä½œå¹³å° - ç«‹å³å¯å¤ç”¨çš„æ ¸å¿ƒæ¨¡å—

> **å¤ç”¨ç±»å‹**: ç›´æ¥å¤ç”¨æˆ–å°å¹…è°ƒæ•´
> **æ ¸å¿ƒæ¨¡å—**: BlockNodeç¼–è¾‘å™¨ã€ProFormè¡¨å•ã€æ¨¡æ¿æ•°æ®ç»“æ„

## ğŸ“‹ æ–‡æ¡£å¯¼èˆª

æœ¬æ–‡æ¡£æ˜¯åŠŸèƒ½å¤ç”¨å®æ–½æŒ‡å—çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä»–ç›¸å…³æ–‡æ¡£ï¼š

1. [00-åŠŸèƒ½å¤ç”¨å®æ–½æŒ‡å—æ€»è§ˆ.md](./00-åŠŸèƒ½å¤ç”¨å®æ–½æŒ‡å—æ€»è§ˆ.md) - å¤ç”¨è·¯çº¿å›¾å’ŒæŠ€æœ¯è¦æ±‚
2. **01-ç«‹å³å¯å¤ç”¨çš„æ ¸å¿ƒæ¨¡å—.md**ï¼ˆæœ¬æ–‡æ¡£ï¼‰- BlockNodeã€è¡¨å•ã€æ¨¡æ¿
3. [02-éœ€è¦æ”¹é€ çš„æ¨¡å—.md](./02-éœ€è¦æ”¹é€ çš„æ¨¡å—.md) - é¡¹ç›®ç®¡ç†ã€AIåŠ©æ‰‹æ”¹é€ 
4. [03-åŸºäºSpecsçš„é«˜çº§å¤ç”¨æ–¹æ¡ˆ.md](./03-åŸºäºSpecsçš„é«˜çº§å¤ç”¨æ–¹æ¡ˆ.md) - åµŒå¥—æ¨¡æ¿ã€ç”¨æˆ·ç®¡ç†ç­‰
5. [04-æ–°å¢æ¨¡å—ä¸å®æ–½è®¡åˆ’.md](./04-æ–°å¢æ¨¡å—ä¸å®æ–½è®¡åˆ’.md) - åç«¯æœåŠ¡ã€åˆ†é˜¶æ®µè®¡åˆ’
6. [05-æ£€æŸ¥æ¸…å•ä¸å·¥å…·è„šæœ¬.md](./05-æ£€æŸ¥æ¸…å•ä¸å·¥å…·è„šæœ¬.md) - å¤ç”¨æ£€æŸ¥ã€è¿ç§»è„šæœ¬
7. [06-é—®é¢˜è§£å†³ä¸ä¼˜åŒ–å»ºè®®.md](./06-é—®é¢˜è§£å†³ä¸ä¼˜åŒ–å»ºè®®.md) - å¸¸è§é—®é¢˜ã€æ€§èƒ½ä¼˜åŒ–


### 2.1 BlockNode å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

#### å¤ç”¨æ­¥éª¤

```bash
# 1. å¤åˆ¶ç¼–è¾‘å™¨æ ¸å¿ƒä»£ç 
cp -r /data/ai-doc/frontend/src/components/editor/* \
      /mnt/data/ai-contract/frontend/src/components/editor/

# 2. å¤åˆ¶ç¼–è¾‘å™¨ä¾èµ–çš„hooks
cp -r /data/ai-doc/frontend/src/hooks/useEditor* \
      /mnt/data/ai-contract/frontend/src/hooks/

# 3. å¤åˆ¶ç¼–è¾‘å™¨ç±»å‹å®šä¹‰
cp -r /data/ai-doc/frontend/src/types/editor.ts \
      /mnt/data/ai-contract/frontend/src/types/
```

#### æ”¹é€ è¦ç‚¹

```typescript
// åŸ ai-doc ç¼–è¾‘å™¨é…ç½®
const editorConfig = {
  blocks: ['paragraph', 'heading', 'code', 'list'],
  theme: 'mui'
};

// æ”¹é€ ä¸ºæ ‡ä¹¦ç¼–è¾‘å™¨
const bidEditorConfig = {
  blocks: [
    'paragraph',
    'heading',
    'table',           // æ–°å¢ï¼šè¡¨æ ¼æ”¯æŒ
    'requirement',     // æ–°å¢ï¼šéœ€æ±‚å—
    'solution',        // æ–°å¢ï¼šæ–¹æ¡ˆå—
    'quotation',       // æ–°å¢ï¼šæŠ¥ä»·å—
    'attachment'       // æ–°å¢ï¼šé™„ä»¶å—
  ],
  theme: 'antd',      // æ”¹ä¸º Ant Design ä¸»é¢˜
  plugins: [
    'autoSave',       // è‡ªåŠ¨ä¿å­˜
    'collaboration',  // åä½œç¼–è¾‘
    'aiAssistant'     // AIåŠ©æ‰‹
  ]
};
```

### 2.2 è¡¨å•ç®¡ç†æ¡†æ¶ï¼ˆä½¿ç”¨ ProFormï¼‰

#### è¡¨å•æ¡†æ¶é€‰æ‹©

æ ¹æ®æŠ€æœ¯æ ˆè¦æ±‚ï¼Œæœ¬é¡¹ç›®é‡‡ç”¨ **Ant Design ProForm** ç»„ä»¶ç³»åˆ—ï¼Œè€Œé React Hook Form + Zodã€‚ProForm æä¾›äº†æ›´é€‚åˆä¼ä¸šçº§åº”ç”¨çš„è¡¨å•è§£å†³æ–¹æ¡ˆã€‚

#### ProForm æ ¸å¿ƒä¼˜åŠ¿

```typescript
// ProForm ç‰¹æ€§
const ProFormAdvantages = {
  // 1. ä¸ Ant Design Pro æ·±åº¦é›†æˆ
  integration: 'æ— ç¼é›†æˆ Ant Design Pro ç”Ÿæ€',

  // 2. å†…ç½®å¸¸ç”¨è¡¨å•ç»„ä»¶
  components: [
    'ProFormText',        // æ–‡æœ¬è¾“å…¥
    'ProFormDigit',       // æ•°å­—è¾“å…¥
    'ProFormDatePicker',  // æ—¥æœŸé€‰æ‹©
    'ProFormSelect',      // ä¸‹æ‹‰é€‰æ‹©
    'ProFormUploadButton', // æ–‡ä»¶ä¸Šä¼ 
    'ProFormTextArea',    // å¤šè¡Œæ–‡æœ¬
    'ProFormRadio',       // å•é€‰
    'ProFormCheckbox'     // å¤šé€‰
  ],

  // 3. å¼ºå¤§çš„è¡¨å•èƒ½åŠ›
  features: [
    'è‡ªåŠ¨è¡¨å•å¸ƒå±€',
    'å†…ç½®éªŒè¯è§„åˆ™',
    'å¼‚æ­¥æ•°æ®è·å–',
    'è¡¨å•è”åŠ¨',
    'åˆ†æ­¥è¡¨å•',
    'å¼¹çª—è¡¨å•'
  ]
};
```

#### ProForm ä½¿ç”¨ç¤ºä¾‹

```typescript
import {
  ProForm,
  ProFormText,
  ProFormSelect,
  ProFormDigit,
  ProFormDatePicker,
  ProFormList
} from '@ant-design/pro-form';
import { message } from 'antd';

// æ ‡ä¹¦é¡¹ç›®åˆ›å»ºè¡¨å•
function CreateBidProjectForm() {
  // ProForm è‡ªåŠ¨å¤„ç†è¡¨å•çŠ¶æ€å’Œæäº¤
  return (
    <ProForm
      layout="vertical"
      onFinish={async (values) => {
        // æäº¤é€»è¾‘
        try {
          await createProject(values);
          message.success('é¡¹ç›®åˆ›å»ºæˆåŠŸ');
          return true;
        } catch (error) {
          message.error('åˆ›å»ºå¤±è´¥');
          return false;
        }
      }}
      initialValues={{
        biddingType: 'enterprise',
        budget: 0,
        requirements: []
      }}
    >
      <ProFormText
        name="projectName"
        label="é¡¹ç›®åç§°"
        placeholder="è¯·è¾“å…¥é¡¹ç›®åç§°"
        rules={[
          { required: true, message: 'é¡¹ç›®åç§°ä¸èƒ½ä¸ºç©º' },
          { min: 2, message: 'é¡¹ç›®åç§°è‡³å°‘2ä¸ªå­—ç¬¦' }
        ]}
      />

      <ProFormSelect
        name="biddingType"
        label="æ‹›æ ‡ç±»å‹"
        options={[
          { label: 'æ”¿åºœé‡‡è´­', value: 'government' },
          { label: 'ä¼ä¸šæ‹›æ ‡', value: 'enterprise' },
          { label: 'å›½é™…æ‹›æ ‡', value: 'international' }
        ]}
        rules={[{ required: true, message: 'è¯·é€‰æ‹©æ‹›æ ‡ç±»å‹' }]}
      />

      <ProFormDigit
        name="budget"
        label="é¡¹ç›®é¢„ç®—"
        placeholder="è¯·è¾“å…¥é¢„ç®—é‡‘é¢"
        fieldProps={{
          prefix: 'Â¥',
          formatter: value => `${value}`.replace(/\B(?=(\d{3})+(?!\d))/g, ','),
          parser: value => value!.replace(/\$\s?|(,*)/g, '')
        }}
        rules={[
          { required: true, message: 'è¯·è¾“å…¥é¢„ç®—é‡‘é¢' },
          {
            validator: async (_, value) => {
              if (value <= 0) {
                throw new Error('é¢„ç®—å¿…é¡»å¤§äº0');
              }
            }
          }
        ]}
      />

      <ProFormDatePicker
        name="deadline"
        label="æŠ•æ ‡æˆªæ­¢æ—¶é—´"
        width="lg"
        rules={[{ required: true, message: 'è¯·é€‰æ‹©æˆªæ­¢æ—¶é—´' }]}
      />

      <ProFormList
        name="requirements"
        label="éœ€æ±‚åˆ—è¡¨"
        creatorButtonProps={{
          position: 'bottom',
          creatorButtonText: 'æ·»åŠ éœ€æ±‚é¡¹'
        }}
        min={1}
        copyIconProps={false}
        itemRender={({ listDom, action }, { index }) => (
          <Card
            bordered
            style={{ marginBottom: 8 }}
            title={`éœ€æ±‚ ${index + 1}`}
            extra={action}
          >
            {listDom}
          </Card>
        )}
      >
        <ProFormText
          name="requirement"
          placeholder="è¯·è¾“å…¥éœ€æ±‚æè¿°"
          rules={[{ required: true, message: 'éœ€æ±‚æè¿°ä¸èƒ½ä¸ºç©º' }]}
        />
      </ProFormList>
    </ProForm>
  );
}
```

#### é«˜çº§ ProForm ç”¨æ³•

```typescript
// 1. åˆ†æ­¥è¡¨å• (StepsForm)
import { StepsForm } from '@ant-design/pro-form';

function BidWizardForm() {
  return (
    <StepsForm
      onFinish={async (values) => {
        console.log(values);
        message.success('æäº¤æˆåŠŸ');
      }}
    >
      <StepsForm.StepForm name="base" title="åŸºæœ¬ä¿¡æ¯">
        <ProFormText name="projectName" label="é¡¹ç›®åç§°" />
        <ProFormSelect name="type" label="é¡¹ç›®ç±»å‹" />
      </StepsForm.StepForm>

      <StepsForm.StepForm name="requirements" title="éœ€æ±‚ä¿¡æ¯">
        <ProFormTextArea name="description" label="éœ€æ±‚æè¿°" />
        <ProFormUploadButton name="files" label="é™„ä»¶ä¸Šä¼ " />
      </StepsForm.StepForm>

      <StepsForm.StepForm name="budget" title="é¢„ç®—ä¿¡æ¯">
        <ProFormDigit name="amount" label="é¢„ç®—é‡‘é¢" />
        <ProFormDateRangePicker name="dateRange" label="é¡¹ç›®å‘¨æœŸ" />
      </StepsForm.StepForm>
    </StepsForm>
  );
}

// 2. å¼¹çª—è¡¨å• (ModalForm)
import { ModalForm } from '@ant-design/pro-form';

function QuickCreateProject() {
  return (
    <ModalForm
      title="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"
      trigger={<Button type="primary">åˆ›å»ºé¡¹ç›®</Button>}
      onFinish={async (values) => {
        await createProject(values);
        message.success('åˆ›å»ºæˆåŠŸ');
        return true; // è¿”å›trueå…³é—­å¼¹çª—
      }}
    >
      <ProFormText name="name" label="é¡¹ç›®åç§°" />
      <ProFormDatePicker name="deadline" label="æˆªæ­¢æ—¥æœŸ" />
    </ModalForm>
  );
}

// 3. è¡¨å•è”åŠ¨ (ProFormDependency)
import { ProFormDependency } from '@ant-design/pro-form';

function DynamicForm() {
  return (
    <ProForm>
      <ProFormSelect
        name="projectType"
        label="é¡¹ç›®ç±»å‹"
        options={[
          { label: 'æŠ€æœ¯é¡¹ç›®', value: 'tech' },
          { label: 'å’¨è¯¢é¡¹ç›®', value: 'consulting' }
        ]}
      />

      <ProFormDependency name={['projectType']}>
        {({ projectType }) => {
          if (projectType === 'tech') {
            return (
              <>
                <ProFormText name="techStack" label="æŠ€æœ¯æ ˆ" />
                <ProFormDigit name="developers" label="å¼€å‘äººæ•°" />
              </>
            );
          }
          if (projectType === 'consulting') {
            return (
              <>
                <ProFormText name="industry" label="è¡Œä¸šé¢†åŸŸ" />
                <ProFormDigit name="consultants" label="é¡¾é—®äººæ•°" />
              </>
            );
          }
          return null;
        }}
      </ProFormDependency>
    </ProForm>
  );
}
```

#### æ•°æ®éªŒè¯æ–¹æ¡ˆ

```typescript
// ProForm å†…ç½®éªŒè¯è§„åˆ™
const ValidationRules = {
  // 1. åŸºç¡€éªŒè¯
  required: { required: true, message: 'æ­¤å­—æ®µå¿…å¡«' },
  email: { type: 'email', message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±' },
  url: { type: 'url', message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„URL' },

  // 2. é•¿åº¦éªŒè¯
  minLength: { min: 2, message: 'è‡³å°‘2ä¸ªå­—ç¬¦' },
  maxLength: { max: 100, message: 'æœ€å¤š100ä¸ªå­—ç¬¦' },

  // 3. æ•°å€¼éªŒè¯
  positive: {
    validator: async (_, value) => {
      if (value <= 0) throw new Error('å¿…é¡»ä¸ºæ­£æ•°');
    }
  },

  // 4. è‡ªå®šä¹‰å¼‚æ­¥éªŒè¯
  uniqueCheck: {
    validator: async (_, value) => {
      const isUnique = await checkProjectNameUnique(value);
      if (!isUnique) throw new Error('é¡¹ç›®åç§°å·²å­˜åœ¨');
    }
  },

  // 5. æ­£åˆ™éªŒè¯
  pattern: {
    pattern: /^[A-Z][0-9]{6}$/,
    message: 'æ ¼å¼ï¼šå¤§å†™å­—æ¯å¼€å¤´+6ä½æ•°å­—'
  }
};

// åœ¨ ProForm ä¸­ä½¿ç”¨
<ProFormText
  name="projectCode"
  label="é¡¹ç›®ç¼–å·"
  rules={[
    ValidationRules.required,
    ValidationRules.pattern,
    ValidationRules.uniqueCheck
  ]}
/>
```

### 2.3 æ¨¡æ¿æ•°æ®ç»“æ„

#### å¤ç”¨ JSON é…ç½®

```bash
# å¤åˆ¶æ¨¡æ¿é…ç½®æ–‡ä»¶
cp /data/ai-doc/design/config/entity/*template*.json \
   /mnt/data/ai-contract/frontend/src/config/templates/
```

#### æ•°æ®ç»“æ„æ˜ å°„

```javascript
// ai-doc çš„æ¨¡æ¿ç»“æ„
const aiDocTemplate = {
  templateId: 'uuid',
  templateName: 'è®¾è®¡ä»»åŠ¡æ¨¡æ¿',
  templateType: 'task',
  fields: [
    { fieldKey: 'taskName', fieldType: 'string', required: true },
    { fieldKey: 'taskDescription', fieldType: 'text', required: false }
  ]
};

// æ”¹é€ ä¸ºæ ‡ä¹¦æ¨¡æ¿ç»“æ„
const bidTemplate = {
  templateId: 'uuid',
  templateName: 'æŠ€æœ¯æ–¹æ¡ˆæ¨¡æ¿',
  templateType: 'technical',  // technical/commercial/qualification
  category: 'IT',             // è¡Œä¸šåˆ†ç±»
  sections: [
    {
      sectionId: 'tech-overview',
      sectionName: 'æŠ€æœ¯æ–¹æ¡ˆæ€»è§ˆ',
      sectionOrder: 1,
      content: {
        type: 'structured',
        fields: [
          {
            fieldKey: 'architecture',
            fieldType: 'richtext',
            fieldLabel: 'ç³»ç»Ÿæ¶æ„',
            required: true,
            aiHint: 'è¯·æè¿°ç³»ç»Ÿçš„æ•´ä½“æ¶æ„è®¾è®¡'
          },
          {
            fieldKey: 'techStack',
            fieldType: 'tags',
            fieldLabel: 'æŠ€æœ¯æ ˆ',
            options: ['Java', 'Python', 'React', 'Vue']
          }
        ]
      }
    }
  ],
  variables: {
    companyName: '${company.name}',
    projectName: '${project.name}',
    submissionDate: '${project.deadline}'
  }
};
```

## ä¸‰ã€éœ€è¦æ”¹é€ çš„æ¨¡å—

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **åŠŸèƒ½å¤ç”¨æ€»è§ˆ**: [00-åŠŸèƒ½å¤ç”¨å®æ–½æŒ‡å—æ€»è§ˆ.md](./00-åŠŸèƒ½å¤ç”¨å®æ–½æŒ‡å—æ€»è§ˆ.md)
- **éœ€è¦æ”¹é€ æ¨¡å—**: [02-éœ€è¦æ”¹é€ çš„æ¨¡å—.md](./02-éœ€è¦æ”¹é€ çš„æ¨¡å—.md)
- **é«˜çº§å¤ç”¨æ–¹æ¡ˆ**: [03-åŸºäºSpecsçš„é«˜çº§å¤ç”¨æ–¹æ¡ˆ.md](./03-åŸºäºSpecsçš„é«˜çº§å¤ç”¨æ–¹æ¡ˆ.md)

## ä¿®æ”¹å†å²

| æ—¥æœŸ | ç‰ˆæœ¬ | ä¿®æ”¹è€… | ä¿®æ”¹å†…å®¹æ¦‚è¦ |
|------|------|--------|-------------|
| 2025-11-29 | 1.0 | claude-sonnet-4-5 (claude-sonnet-4-5-20250929) | ä»ai-doc-åŠŸèƒ½å¤ç”¨å®æ–½æŒ‡å—.mdæ‹†åˆ†åˆ›å»º |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´11æœˆ29æ—¥
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²æ‰¹å‡†

---
文档类型: 知识库文档
需求编号: DOC-2025-11-004
创建日期: 2025-11-26
创建者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
最后更新: 2025-11-26
更新者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
状态: 已批准
---

# Python 代码规范 - 1. 源文件基础

### 1.1 文件编码

- **UTF-8** 编码（Python 3 默认）
- 文件头部不需要编码声明（Python 2 已废弃）

```python
# ✅ Python 3 默认 UTF-8，无需声明

# ❌ 不需要（Python 2 遗留）
# -*- coding: utf-8 -*-
```

### 1.2 导入语句

**导入顺序**（组间用空行分隔）：
1. 标准库导入
2. 第三方库导入
3. 本地应用/库导入

```python
# ✅ 正确的导入顺序
import os
import sys
from typing import List, Optional

from fastapi import FastAPI, HTTPException, Depends
from pydantic import BaseModel
from llama_index import VectorStoreIndex, ServiceContext

from app.services.ai_service import AIService
from app.models.document import Document

# ❌ 错误：不要使用通配符导入
from app.services import *  # ❌

# ❌ 错误：不要使用相对导入的星号
from . import *  # ❌
```

**导入规范**：
```python
# ✅ 正确：每个导入单独一行
import os
import sys

# ✅ 正确：from imports 可以多个
from typing import List, Dict, Optional

# ❌ 错误：多个导入在一行
import os, sys  # ❌
```

### 1.3 模块文件名

- **小写字母**
- **下划线分隔**（snake_case）
- **避免使用连字符**

```python
# ✅ 正确
ai_service.py
document_parser.py
vector_store_manager.py

# ❌ 错误
AIService.py       # ❌ 不要用驼峰
ai-service.py      # ❌ 不要用连字符
aiservice.py       # ❌ 多单词应该用下划线
```

---

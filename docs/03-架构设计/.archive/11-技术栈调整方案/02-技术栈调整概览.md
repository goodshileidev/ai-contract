---
文档类型: 架构文档
需求编号: DOC-2025-11-001
创建日期: 2025-11-15
创建者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
最后更新: 2025-11-26
更新者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
状态: 已批准
---

# AI标书智能创作平台 - 技术栈调整方案 - 🎯 技术栈调整概览

### 核心架构原则（v2.0重要更新）

> **重要说明**: 本项目采用**混合后端架构**，根据功能职责明确划分技术栈：
>
> - ✅ **数据维护、业务逻辑**: Java Spring Boot
> - ✅ **AI能力、大模型调用**: Python FastAPI
> - ❌ **禁止**: Java调用大模型（应由Python服务处理）
> - ❌ **禁止**: Python处理数据CRUD（应由Java服务处理）

### 原技术栈 vs 新技术栈

```yaml
调整对比:
  向量检索与知识管理:
    原方案: Pinecone + Neo4j
    新方案: Elasticsearch 8.x ✅
    说明: 统一搜索引擎，降低运维复杂度

  后端技术（重要更新）:
    原方案: FastAPI (Python)
    新方案: 混合后端架构 ✅
      - Java Spring Boot: 数据维护（用户、组织、项目、文档、模板、权限等）
      - Python FastAPI: AI能力（大模型调用、向量化、语义搜索、内容生成等）
    职责划分:
      - 数据层: Java负责所有CRUD操作
      - AI层: Python负责所有大模型交互
      - 通信: REST API + 消息队列

  前端UI框架:
    原方案: Material UI 5
    新方案: Ant Design Pro ✅
    说明: 更符合国内企业应用习惯

  AI框架:
    原方案: LangChain + LangGraph
    新方案: LlamaIndex ✅
    说明: 更专注于RAG场景
```

### 架构调整关键决策

**决策1: 为什么采用混合后端架构？**
```yaml
原因:
  技术匹配度:
    - Java生态: 成熟的企业级开发框架（Spring Boot）
    - Python生态: 丰富的AI/ML库（LangChain、LlamaIndex、OpenAI SDK）

  团队技能:
    - Java团队: 擅长业务逻辑和数据处理
    - Python团队: 擅长AI模型集成和调优

  性能优化:
    - Java: JVM优化、并发处理、数据库事务
    - Python: AI模型推理、异步处理、快速迭代

  技术演进:
    - AI领域Python生态更成熟
    - 大模型SDK以Python为主
    - 新AI技术Python支持最快
```

**决策2: 服务职责如何划分？**
```yaml
Java Spring Boot服务（数据维护）:
  核心职责: 所有与数据持久化相关的操作
  包括:
    - 用户认证和授权
    - 组织和项目管理
    - 文档CRUD操作
    - 模板管理和版本控制
    - 协作和审批流程
    - 权限和角色管理
    - 系统配置管理
    - 操作日志记录
  技术栈:
    - Spring Boot 3.2 + Spring Data JPA
    - PostgreSQL（业务数据）
    - Redis（缓存和会话）
    - Spring Security（安全）

Python FastAPI服务（AI能力）:
  核心职责: 所有与AI大模型交互相关的操作
  包括:
    - 调用大模型（GPT-4、Claude等）
    - 文档智能解析和向量化
    - 需求分析和智能提取
    - 智能内容生成和优化
    - 语义搜索和相似度匹配
    - 知识图谱构建和推理
    - AI质量审查和评分
  技术栈:
    - FastAPI 0.104+ + LlamaIndex
    - OpenAI SDK / Anthropic SDK
    - Elasticsearch（向量检索）
    - LangChain（备用）

服务间通信:
  同步调用: REST API（HTTP/JSON）
  异步处理: RabbitMQ消息队列
  事件通知: Redis Pub/Sub
  服务发现: Consul / Eureka（可选）
```

---

---
ÊñáÊ°£Á±ªÂûã: Êû∂ÊûÑÊñáÊ°£
ÈúÄÊ±ÇÁºñÂè∑: DOC-2025-11-001
ÂàõÂª∫Êó•Êúü: 2025-11-15
ÂàõÂª∫ËÄÖ: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
ÊúÄÂêéÊõ¥Êñ∞: 2025-11-26
Êõ¥Êñ∞ËÄÖ: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
Áä∂ÊÄÅ: Â∑≤ÊâπÂáÜ
---

# AIÊ†á‰π¶Êô∫ËÉΩÂàõ‰ΩúÂπ≥Âè∞ - Êï∞ÊçÆÂ∫ìËÆæËÆ° - üè¢ ‰ºÅ‰∏öËÉΩÂäõÂüü

### 18. company_profiles (‰ºÅ‰∏öÊ°£Ê°àË°®)

```sql
CREATE TABLE company_profiles (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    organization_id UUID UNIQUE NOT NULL,
    brief_introduction TEXT,
    core_business TEXT,
    core_competencies TEXT[] DEFAULT ARRAY[]::TEXT[],
    competitive_advantages TEXT[] DEFAULT ARRAY[]::TEXT[],
    key_technologies TEXT[] DEFAULT ARRAY[]::TEXT[],
    major_clients TEXT[] DEFAULT ARRAY[]::TEXT[],
    annual_revenue DECIMAL(15, 2),
    employee_count INTEGER,
    rd_personnel_count INTEGER,
    patents_count INTEGER,
    certifications TEXT[] DEFAULT ARRAY[]::TEXT[],
    honors TEXT[] DEFAULT ARRAY[]::TEXT[],
    metadata JSONB DEFAULT '{}'::jsonb,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE
);

-- Á¥¢Âºï
CREATE INDEX idx_company_profiles_organization_id ON company_profiles(organization_id);
CREATE INDEX idx_company_profiles_core_competencies ON company_profiles USING gin(core_competencies);
CREATE INDEX idx_company_profiles_key_technologies ON company_profiles USING gin(key_technologies);

-- Ê≥®Èáä
COMMENT ON TABLE company_profiles IS '‰ºÅ‰∏öÊ°£Ê°àË°®';
```

### 19. products_services (‰∫ßÂìÅÊúçÂä°Ë°®)

```sql
CREATE TABLE products_services (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    organization_id UUID NOT NULL,
    name VARCHAR(200) NOT NULL,
    category VARCHAR(100),
    type VARCHAR(20) CHECK (type IN ('product', 'service', 'solution')),
    description TEXT,
    features TEXT[] DEFAULT ARRAY[]::TEXT[],
    specifications JSONB,
    advantages TEXT[] DEFAULT ARRAY[]::TEXT[],
    application_scenarios TEXT[] DEFAULT ARRAY[]::TEXT[],
    technology_stack TEXT[] DEFAULT ARRAY[]::TEXT[],
    price_range VARCHAR(100),
    is_active BOOLEAN DEFAULT TRUE,
    images TEXT[] DEFAULT ARRAY[]::TEXT[],
    documents TEXT[] DEFAULT ARRAY[]::TEXT[],
    tags TEXT[] DEFAULT ARRAY[]::TEXT[],
    metadata JSONB DEFAULT '{}'::jsonb,
    created_by UUID,
    updated_by UUID,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    deleted_at TIMESTAMP WITH TIME ZONE,
    FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL
);

-- Á¥¢Âºï
CREATE INDEX idx_products_services_organization_id ON products_services(organization_id) WHERE deleted_at IS NULL;
CREATE INDEX idx_products_services_category ON products_services(category) WHERE deleted_at IS NULL;
CREATE INDEX idx_products_services_type ON products_services(type) WHERE deleted_at IS NULL;
CREATE INDEX idx_products_services_tags ON products_services USING gin(tags);

-- Ê≥®Èáä
COMMENT ON TABLE products_services IS '‰∫ßÂìÅÊúçÂä°Ë°®';
```

### 20. project_cases (È°πÁõÆÊ°à‰æãË°®)

```sql
CREATE TABLE project_cases (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    organization_id UUID NOT NULL,
    project_name VARCHAR(200) NOT NULL,
    client_name VARCHAR(200),
    client_industry VARCHAR(100),
    project_category VARCHAR(100),
    project_type VARCHAR(50),
    contract_amount DECIMAL(15, 2),
    start_date DATE,
    end_date DATE,
    duration_months INTEGER,
    project_description TEXT,
    challenges TEXT,
    solutions TEXT,
    achievements TEXT[] DEFAULT ARRAY[]::TEXT[],
    technologies_used TEXT[] DEFAULT ARRAY[]::TEXT[],
    team_size INTEGER,
    project_role VARCHAR(100),
    customer_satisfaction DECIMAL(3, 2),
    is_reference BOOLEAN DEFAULT TRUE,
    is_public BOOLEAN DEFAULT FALSE,
    images TEXT[] DEFAULT ARRAY[]::TEXT[],
    documents TEXT[] DEFAULT ARRAY[]::TEXT[],
    tags TEXT[] DEFAULT ARRAY[]::TEXT[],
    metadata JSONB DEFAULT '{}'::jsonb,
    created_by UUID,
    updated_by UUID,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    deleted_at TIMESTAMP WITH TIME ZONE,
    FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL
);

-- Á¥¢Âºï
CREATE INDEX idx_project_cases_organization_id ON project_cases(organization_id) WHERE deleted_at IS NULL;
CREATE INDEX idx_project_cases_client_industry ON project_cases(client_industry) WHERE deleted_at IS NULL;
CREATE INDEX idx_project_cases_project_category ON project_cases(project_category) WHERE deleted_at IS NULL;
CREATE INDEX idx_project_cases_tags ON project_cases USING gin(tags);
CREATE INDEX idx_project_cases_technologies_used ON project_cases USING gin(technologies_used);
CREATE INDEX idx_project_cases_end_date ON project_cases(end_date DESC);

-- Ê≥®Èáä
COMMENT ON TABLE project_cases IS 'È°πÁõÆÊ°à‰æãË°®';
COMMENT ON COLUMN project_cases.is_reference IS 'ÊòØÂê¶ÂèØ‰Ωú‰∏∫ÂèÇËÄÉÊ°à‰æã';
COMMENT ON COLUMN project_cases.customer_satisfaction IS 'ÂÆ¢Êà∑Êª°ÊÑèÂ∫¶(0-5)';
```

### 21. personnel (‰∫∫ÂëòËµÑË¥®Ë°®)

```sql
CREATE TABLE personnel (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    organization_id UUID NOT NULL,
    name VARCHAR(100) NOT NULL,
    employee_id VARCHAR(50),
    position VARCHAR(100),
    department VARCHAR(100),
    education VARCHAR(50),
    major VARCHAR(100),
    years_of_experience INTEGER,
    specialties TEXT[] DEFAULT ARRAY[]::TEXT[],
    certifications TEXT[] DEFAULT ARRAY[]::TEXT[],
    project_experience_count INTEGER DEFAULT 0,
    skills JSONB DEFAULT '[]'::jsonb,
    is_available BOOLEAN DEFAULT TRUE,
    resume_url TEXT,
    metadata JSONB DEFAULT '{}'::jsonb,
    created_by UUID,
    updated_by UUID,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    deleted_at TIMESTAMP WITH TIME ZONE,
    FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL
);

-- Á¥¢Âºï
CREATE INDEX idx_personnel_organization_id ON personnel(organization_id) WHERE deleted_at IS NULL;
CREATE INDEX idx_personnel_position ON personnel(position) WHERE deleted_at IS NULL;
CREATE INDEX idx_personnel_specialties ON personnel USING gin(specialties);

-- Ê≥®Èáä
COMMENT ON TABLE personnel IS '‰∫∫ÂëòËµÑË¥®Ë°®';
COMMENT ON COLUMN personnel.skills IS 'ÊäÄËÉΩÂàóË°®(JSON)';
```

### 22. certifications (ËµÑË¥®ËØÅ‰π¶Ë°®)

```sql
CREATE TABLE certifications (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    organization_id UUID NOT NULL,
    certification_name VARCHAR(200) NOT NULL,
    certification_type VARCHAR(100),
    issuing_authority VARCHAR(200),
    certificate_number VARCHAR(100),
    issue_date DATE,
    expiry_date DATE,
    is_valid BOOLEAN DEFAULT TRUE,
    scope TEXT,
    level VARCHAR(50),
    certificate_url TEXT,
    metadata JSONB DEFAULT '{}'::jsonb,
    created_by UUID,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    deleted_at TIMESTAMP WITH TIME ZONE,
    FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL
);

-- Á¥¢Âºï
CREATE INDEX idx_certifications_organization_id ON certifications(organization_id) WHERE deleted_at IS NULL;
CREATE INDEX idx_certifications_type ON certifications(certification_type) WHERE deleted_at IS NULL;
CREATE INDEX idx_certifications_expiry_date ON certifications(expiry_date) WHERE deleted_at IS NULL;

-- Ê≥®Èáä
COMMENT ON TABLE certifications IS 'ËµÑË¥®ËØÅ‰π¶Ë°®';
```

### 23. historical_bids (ÂéÜÂè≤Ê†á‰π¶Ë°®)

```sql
CREATE TABLE historical_bids (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    organization_id UUID NOT NULL,
    project_name VARCHAR(200) NOT NULL,
    client_name VARCHAR(200),
    bidding_date DATE,
    submission_date DATE,
    result VARCHAR(20) CHECK (result IN ('won', 'lost', 'pending', 'withdrawn')),
    contract_amount DECIMAL(15, 2),
    bid_amount DECIMAL(15, 2),
    win_rate DECIMAL(5, 2),
    industry VARCHAR(100),
    category VARCHAR(100),
    key_points TEXT[] DEFAULT ARRAY[]::TEXT[],
    success_factors TEXT,
    lessons_learned TEXT,
    document_id UUID,
    is_reusable BOOLEAN DEFAULT TRUE,
    tags TEXT[] DEFAULT ARRAY[]::TEXT[],
    metadata JSONB DEFAULT '{}'::jsonb,
    created_by UUID,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    deleted_at TIMESTAMP WITH TIME ZONE,
    FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE,
    FOREIGN KEY (document_id) REFERENCES bid_documents(id) ON DELETE SET NULL,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL
);

-- Á¥¢Âºï
CREATE INDEX idx_historical_bids_organization_id ON historical_bids(organization_id) WHERE deleted_at IS NULL;
CREATE INDEX idx_historical_bids_result ON historical_bids(result) WHERE deleted_at IS NULL;
CREATE INDEX idx_historical_bids_industry ON historical_bids(industry) WHERE deleted_at IS NULL;
CREATE INDEX idx_historical_bids_bidding_date ON historical_bids(bidding_date DESC);
CREATE INDEX idx_historical_bids_tags ON historical_bids USING gin(tags);

-- Ê≥®Èáä
COMMENT ON TABLE historical_bids IS 'ÂéÜÂè≤Ê†á‰π¶Ë°®';
COMMENT ON COLUMN historical_bids.win_rate IS '‰∏≠Ê†áÁéá(%)';
```

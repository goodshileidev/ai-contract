# AIæ ‡ä¹¦æ™ºèƒ½åˆ›ä½œå¹³å° - æŠ€æœ¯æ¶æ„è®¾è®¡

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### æ¶æ„åŸåˆ™
- **å¾®æœåŠ¡æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
- **äº‘åŸç”Ÿ**: æ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²å’Œå¼¹æ€§æ‰©ç¼©å®¹
- **APIä¼˜å…ˆ**: æ‰€æœ‰åŠŸèƒ½é€šè¿‡APIæä¾›æœåŠ¡
- **æ•°æ®é©±åŠ¨**: åŸºäºæ•°æ®åˆ†æä¼˜åŒ–äº§å“åŠŸèƒ½

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯åº”ç”¨å±‚                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  React Webåº”ç”¨  â”‚  ç§»åŠ¨ç«¯åº”ç”¨  â”‚  æ¡Œé¢å®¢æˆ·ç«¯  â”‚  å¼€æ”¾API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APIç½‘å…³å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¤è¯æˆæƒ  â”‚  è·¯ç”±è½¬å‘  â”‚  é™æµæ§åˆ¶  â”‚  ç›‘æ§æ—¥å¿—  â”‚  ç¼“å­˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ä¸šåŠ¡æœåŠ¡å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”¨æˆ·æœåŠ¡ â”‚ é¡¹ç›®æœåŠ¡ â”‚ æ¨¡æ¿æœåŠ¡ â”‚ AIæœåŠ¡ â”‚ æ–‡ä»¶æœåŠ¡ â”‚ å®¡æ‰¹æœåŠ¡ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AIèƒ½åŠ›å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LLMæœåŠ¡ â”‚ å‘é‡æ£€ç´¢ â”‚ çŸ¥è¯†å›¾è°± â”‚ å·¥ä½œæµç¼–æ’ â”‚ æ¨¡å‹ç®¡ç†     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ•°æ®å­˜å‚¨å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PostgreSQL â”‚ Redis â”‚ MinIO â”‚ å‘é‡æ•°æ®åº“ â”‚ æ¶ˆæ¯é˜Ÿåˆ—       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ å‰ç«¯æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆé€‰æ‹©
```typescript
// æ ¸å¿ƒæŠ€æœ¯æ ˆ (åŸºäºaidev3æ‰©å±•)
{
  "framework": "React 18 + TypeScript",
  "bundler": "Vite",
  "ui": "Material UI 5",
  "editor": "BlockNote + Monaco Editor",
  "state": "TanStack Query + Zustand",
  "routing": "React Router 6",
  "forms": "React Hook Form + Zod",
  "testing": "Vitest + React Testing Library",
  "e2e": "Playwright",
  "internationalization": "i18next"
}

// æ–°å¢ä¸“ä¸šç»„ä»¶åº“
{
  "documentParser": "PDF.js + docx",
  "dragDrop": "react-dnd",
  "charts": "Recharts",
  "virtualization": "react-window",
  "fileUpload": "react-dropzone",
  "collaboration": "yjs + y-websocket"
}
```

### ç»„ä»¶æ¶æ„è®¾è®¡
```typescript
// ç»„ä»¶å±‚æ¬¡ç»“æ„
src/
â”œâ”€â”€ components/           # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/              # åŸºç¡€UIç»„ä»¶
â”‚   â”œâ”€â”€ forms/           # è¡¨å•ç»„ä»¶
â”‚   â”œâ”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ charts/          # å›¾è¡¨ç»„ä»¶
â”œâ”€â”€ features/            # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ auth/            # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ projects/        # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ templates/       # æ¨¡æ¿ç®¡ç†
â”‚   â”œâ”€â”€ ai-assistant/    # AIåŠ©æ‰‹
â”‚   â”œâ”€â”€ documents/       # æ–‡æ¡£ç®¡ç†
â”‚   â”œâ”€â”€ collaboration/   # åä½œåŠŸèƒ½
â”‚   â””â”€â”€ export/          # å¯¼å‡ºåŠŸèƒ½
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰Hooks
â”œâ”€â”€ services/            # APIæœåŠ¡
â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â””â”€â”€ types/               # TypeScriptç±»å‹å®šä¹‰
```

### çŠ¶æ€ç®¡ç†ç­–ç•¥
```typescript
// çŠ¶æ€ç®¡ç†æ¶æ„
interface AppState {
  // å…¨å±€çŠ¶æ€
  auth: AuthState;
  user: UserState;

  // åŠŸèƒ½çŠ¶æ€
  projects: ProjectState;
  templates: TemplateState;
  documents: DocumentState;
  aiAssistant: AIAssistantState;

  // UIçŠ¶æ€
  theme: ThemeState;
  notifications: NotificationState;
  modals: ModalState;
}

// æ•°æ®æµç®¡ç†
const useProjectData = () => {
  return useQuery({
    queryKey: ['projects'],
    queryFn: projectService.getProjects,
    staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿ
    cacheTime: 10 * 60 * 1000, // 10åˆ†é’Ÿ
  });
};
```

## âš™ï¸ åç«¯æœåŠ¡æ¶æ„

### å¾®æœåŠ¡æ‹†åˆ†
```yaml
# æœåŠ¡åˆ’åˆ†
services:
  # æ ¸å¿ƒä¸šåŠ¡æœåŠ¡
  - user-service:          # ç”¨æˆ·ç®¡ç†æœåŠ¡
      port: 8001
      database: PostgreSQL

  - project-service:       # é¡¹ç›®ç®¡ç†æœåŠ¡
      port: 8002
      database: PostgreSQL

  - template-service:      # æ¨¡æ¿ç®¡ç†æœåŠ¡
      port: 8003
      database: PostgreSQL

  - document-service:      # æ–‡æ¡£ç®¡ç†æœåŠ¡
      port: 8004
      database: PostgreSQL
      fileStorage: MinIO

  - ai-service:           # AIèƒ½åŠ›æœåŠ¡
      port: 8005
      database: PostgreSQL
      vectorDB: Pinecone

  - collaboration-service: # åä½œæœåŠ¡
      port: 8006
      database: PostgreSQL
      realtime: WebSocket

  - export-service:       # å¯¼å‡ºæœåŠ¡
      port: 8007
      queue: Redis

  # åŸºç¡€è®¾æ–½æœåŠ¡
  - gateway-service:      # APIç½‘å…³
      port: 8000

  - notification-service: # é€šçŸ¥æœåŠ¡
      port: 8008
      queue: Redis
```

### APIè®¾è®¡è§„èŒƒ
```typescript
// RESTful APIè®¾è®¡
interface APIStandards {
  // åŸºç¡€URLç»“æ„
  baseUrl: "https://api.aibidcomposer.com/v1";

  // èµ„æºå‘½åè§„èŒƒ
  resources: {
    projects: "/projects";
    templates: "/templates";
    documents: "/documents";
    "ai-assistants": "/ai-assistants";
  };

  // HTTPæ–¹æ³•ä½¿ç”¨
  methods: {
    GET: "è·å–èµ„æº";
    POST: "åˆ›å»ºèµ„æº";
    PUT: "å®Œæ•´æ›´æ–°èµ„æº";
    PATCH: "éƒ¨åˆ†æ›´æ–°èµ„æº";
    DELETE: "åˆ é™¤èµ„æº";
  };

  // å“åº”æ ¼å¼
  responseFormat: {
    success: {
      data: "any";
      message: "string";
      timestamp: "ISO8601";
    };
    error: {
      error: {
        code: "string";
        message: "string";
        details: "any";
      };
      timestamp: "ISO8601";
    };
  };
}

// å…·ä½“APIç¤ºä¾‹
interface ProjectAPI {
  // é¡¹ç›®åˆ—è¡¨
  "GET /projects": {
    query?: {
      page?: number;
      limit?: number;
      status?: ProjectStatus;
      search?: string;
    };
    response: PaginatedResponse<Project>;
  };

  // åˆ›å»ºé¡¹ç›®
  "POST /projects": {
    body: CreateProjectRequest;
    response: Project;
  };

  // é¡¹ç›®è¯¦æƒ…
  "GET /projects/:id": {
    params: { id: string };
    response: Project;
  };
}
```

## ğŸ¤– AIèƒ½åŠ›æ¶æ„

### AIæœåŠ¡æ¶æ„è®¾è®¡
```typescript
// AIèƒ½åŠ›æ¶æ„
interface AIArchitecture {
  // LLMæœåŠ¡å±‚
  llmServices: {
    openai: OpenAIService;      // GPT-4/3.5
    zhipu: ZhipuAIService;      // æ™ºè°±AI
    baidu: BaiduAIService;      // ç™¾åº¦æ–‡å¿ƒ
    custom: CustomLLMService;   // è‡ªè®­ç»ƒæ¨¡å‹
  };

  // AIèƒ½åŠ›å±‚
  aiCapabilities: {
    documentAnalysis: DocumentAnalysisService;
    contentGeneration: ContentGenerationService;
    knowledgeMatching: KnowledgeMatchingService;
    qualityAssurance: QualityAssuranceService;
  };

  // å·¥ä½œæµç¼–æ’å±‚
  workflowEngine: {
    orchestrator: WorkflowOrchestrator;
    taskQueue: TaskQueue;
    stateManager: StateManager;
    errorHandler: ErrorHandler;
  };
}
```

### LangChainå·¥ä½œæµè®¾è®¡
```python
# æ ‡ä¹¦ç”Ÿæˆå·¥ä½œæµ
from langchain.schema import Document
from langchain.chains import LLMChain
from langchain.prompts import PromptTemplate

class BidGenerationWorkflow:
    def __init__(self):
        self.tender_analyzer = TenderAnalysisChain()
        self.capability_matcher = CapabilityMatchingChain()
        self.content_generator = ContentGenerationChain()
        self.quality_checker = QualityAssuranceChain()

    async def generate_bid(self, tender_doc: Document,
                          company_profile: CompanyProfile) -> BidDocument:
        # 1. åˆ†ææ‹›æ ‡æ–‡ä»¶
        tender_analysis = await self.tender_analyzer.arun(tender_doc)

        # 2. åŒ¹é…ä¼ä¸šèƒ½åŠ›
        capability_match = await self.capability_matcher.arun(
            tender_analysis, company_profile
        )

        # 3. ç”Ÿæˆæ ‡ä¹¦å†…å®¹
        content_generation = await self.content_generator.arun(
            tender_analysis, capability_match
        )

        # 4. è´¨é‡æ£€æŸ¥
        quality_check = await self.quality_checker.arun(content_generation)

        return BidDocument(
            analysis=tender_analysis,
            match=capability_match,
            content=content_generation,
            quality=quality_check
        )
```

### å‘é‡æ•°æ®åº“è®¾è®¡
```typescript
// å‘é‡æ•°æ®åº“æ¶æ„
interface VectorDatabaseSchema {
  // ä¼ä¸šèƒ½åŠ›å‘é‡
  capabilities: {
    id: string;
    type: 'product' | 'service' | 'project' | 'personnel';
    name: string;
    description: string;
    embedding: number[];  // 1536ç»´å‘é‡
    metadata: {
      industry: string;
      tags: string[];
      experience: number;
      certifications: string[];
    };
  };

  // æ‹›æ ‡éœ€æ±‚å‘é‡
  requirements: {
    id: string;
    source: string;  // æ‹›æ ‡æ–‡ä»¶ID
    content: string;
    embedding: number[];
    metadata: {
      category: 'technical' | 'commercial' | 'experience';
      priority: 'high' | 'medium' | 'low';
      weight: number;
    };
  };

  // æ ‡ä¹¦å†…å®¹å‘é‡
  bid_content: {
    id: string;
    section: string;
    content: string;
    embedding: number[];
    metadata: {
      project_id: string;
      template_id: string;
      quality_score: number;
      approval_status: string;
    };
  };
}
```

## ğŸ’¾ æ•°æ®å­˜å‚¨æ¶æ„

### æ•°æ®åº“è®¾è®¡
```sql
-- æ ¸å¿ƒæ•°æ®è¡¨ç»“æ„
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    company_id UUID REFERENCES companies(id),
    role VARCHAR(20) NOT NULL DEFAULT 'user',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- é¡¹ç›®è¡¨
CREATE TABLE projects (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(200) NOT NULL,
    description TEXT,
    tender_document_url VARCHAR(500),
    status VARCHAR(20) DEFAULT 'draft',
    deadline TIMESTAMP,
    budget DECIMAL(15,2),
    created_by UUID REFERENCES users(id),
    company_id UUID REFERENCES companies(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ¨¡æ¿è¡¨
CREATE TABLE templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(200) NOT NULL,
    description TEXT,
    category VARCHAR(50) NOT NULL,
    industry VARCHAR(50),
    content JSONB NOT NULL,
    variables JSONB,
    is_public BOOLEAN DEFAULT false,
    created_by UUID REFERENCES users(id),
    company_id UUID REFERENCES companies(id),
    version INTEGER DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ä¼ä¸šèƒ½åŠ›åº“è¡¨
CREATE TABLE enterprise_capabilities (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    company_id UUID REFERENCES companies(id),
    type VARCHAR(20) NOT NULL, -- 'product', 'service', 'project', 'personnel'
    name VARCHAR(200) NOT NULL,
    description TEXT,
    metadata JSONB,
    embedding_vector VECTOR(1536),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ ‡ä¹¦æ–‡æ¡£è¡¨
CREATE TABLE bid_documents (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id UUID REFERENCES projects(id),
    template_id UUID REFERENCES templates(id),
    title VARCHAR(200) NOT NULL,
    content JSONB NOT NULL,
    status VARCHAR(20) DEFAULT 'draft',
    quality_score DECIMAL(5,2),
    ai_generated BOOLEAN DEFAULT false,
    created_by UUID REFERENCES users(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ç¼“å­˜ç­–ç•¥
```typescript
// Redisç¼“å­˜è®¾è®¡
interface CacheStrategy {
  // ä¼šè¯ç¼“å­˜
  session: {
    key: "session:{user_id}";
    ttl: 86400;  // 24å°æ—¶
    data: UserSession;
  };

  // é¡¹ç›®æ•°æ®ç¼“å­˜
  project: {
    key: "project:{project_id}";
    ttl: 3600;   // 1å°æ—¶
    data: Project;
  };

  // æ¨¡æ¿ç¼“å­˜
  template: {
    key: "template:{template_id}";
    ttl: 7200;   // 2å°æ—¶
    data: Template;
  };

  // AIç”Ÿæˆç»“æœç¼“å­˜
  ai_generation: {
    key: "ai_gen:{hash}";
    ttl: 604800; // 7å¤©
    data: AIGenerationResult;
  };

  // å‘é‡æ£€ç´¢ç¼“å­˜
  vector_search: {
    key: "vector_search:{query_hash}";
    ttl: 1800;   // 30åˆ†é’Ÿ
    data: SearchResult[];
  };
}
```

## ğŸ”„ æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„

### å¼‚æ­¥ä»»åŠ¡å¤„ç†
```python
# Celeryä»»åŠ¡é˜Ÿåˆ—è®¾è®¡
from celery import Celery

celery_app = Celery('aibidcomposer')

# ä»»åŠ¡å®šä¹‰
@celery_app.task
def analyze_tender_document(document_id: str):
    """åˆ†ææ‹›æ ‡æ–‡æ¡£"""
    pass

@celery_app.task
def generate_bid_content(project_id: str, template_id: str):
    """ç”Ÿæˆæ ‡ä¹¦å†…å®¹"""
    pass

@celery_app.task
def check_document_quality(document_id: str):
    """æ£€æŸ¥æ–‡æ¡£è´¨é‡"""
    pass

@celery_app.task
def export_document(document_id: str, format: str):
    """å¯¼å‡ºæ–‡æ¡£"""
    pass

# å·¥ä½œæµç¼–æ’
@celery_app.task
def bid_generation_workflow(project_id: str):
    """æ ‡ä¹¦ç”Ÿæˆå·¥ä½œæµ"""
    # 1. åˆ†ææ‹›æ ‡æ–‡ä»¶
    analysis = analyze_tender_document.delay(project_id)

    # 2. ç­‰å¾…åˆ†æå®Œæˆ
    analysis.get()

    # 3. ç”Ÿæˆæ ‡ä¹¦å†…å®¹
    generation = generate_bid_content.delay(project_id, template_id)

    # 4. ç­‰å¾…ç”Ÿæˆå®Œæˆ
    generation.get()

    # 5. è´¨é‡æ£€æŸ¥
    quality_check = check_document_quality.delay(document_id)

    return quality_check.get()
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### å®¹å™¨åŒ–éƒ¨ç½²
```yaml
# docker-compose.yml
version: '3.8'

services:
  # å‰ç«¯åº”ç”¨
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    environment:
      - REACT_APP_API_URL=http://gateway:8000

  # APIç½‘å…³
  gateway:
    build: ./services/gateway
    ports:
      - "8000:8000"
    depends_on:
      - user-service
      - project-service
      - ai-service

  # ç”¨æˆ·æœåŠ¡
  user-service:
    build: ./services/user-service
    environment:
      - DATABASE_URL=postgresql://user:pass@postgres:5432/aibid
      - REDIS_URL=redis://redis:6379
    depends_on:
      - postgres
      - redis

  # AIæœåŠ¡
  ai-service:
    build: ./services/ai-service
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - PINECONE_API_KEY=${PINECONE_API_KEY}
    depends_on:
      - postgres
      - redis

  # æ•°æ®åº“
  postgres:
    image: postgres:15
    environment:
      - POSTGRES_DB=aibid
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=pass
    volumes:
      - postgres_data:/var/lib/postgresql/data

  # ç¼“å­˜
  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data

  # æ–‡ä»¶å­˜å‚¨
  minio:
    image: minio/minio:latest
    command: server /data --console-address ":9001"
    environment:
      - MINIO_ROOT_USER=admin
      - MINIO_ROOT_PASSWORD=password
    volumes:
      - minio_data:/data

volumes:
  postgres_data:
  redis_data:
  minio_data:
```

### Kuberneteséƒ¨ç½²
```yaml
# k8s-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: aibid-frontend
spec:
  replicas: 3
  selector:
    matchLabels:
      app: aibid-frontend
  template:
    metadata:
      labels:
        app: aibid-frontend
    spec:
      containers:
      - name: frontend
        image: aibid/frontend:latest
        ports:
        - containerPort: 3000
        env:
        - name: REACT_APP_API_URL
          value: "https://api.aibidcomposer.com"
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
---
apiVersion: v1
kind: Service
metadata:
  name: aibid-frontend-service
spec:
  selector:
    app: aibid-frontend
  ports:
  - port: 80
    targetPort: 3000
  type: LoadBalancer
```

## ğŸ”’ å®‰å…¨æ¶æ„

### è®¤è¯æˆæƒ
```typescript
// JWTè®¤è¯è®¾è®¡
interface AuthArchitecture {
  // JWT Tokenç»“æ„
  tokenStructure: {
    header: {
      alg: "HS256";
      typ: "JWT";
    };
    payload: {
      sub: string;        // ç”¨æˆ·ID
      iat: number;        // ç­¾å‘æ—¶é—´
      exp: number;        // è¿‡æœŸæ—¶é—´
      aud: string;        // å—ä¼—
      iss: string;        // ç­¾å‘è€…
      role: string;       // ç”¨æˆ·è§’è‰²
      permissions: string[]; // æƒé™åˆ—è¡¨
    };
  };

  // æƒé™æ§åˆ¶
  rbac: {
    roles: {
      admin: ["*"];
      manager: ["project.*", "template.*", "user.read"];
      editor: ["project.read", "project.write", "template.read"];
      viewer: ["project.read", "template.read"];
    };
  };
}
```

### æ•°æ®å®‰å…¨
```typescript
// æ•°æ®åŠ å¯†ç­–ç•¥
interface DataSecurity {
  // ä¼ è¾“åŠ å¯†
  transport: {
    protocol: "HTTPS/TLS 1.3";
    certificate: "Wildcard SSL Certificate";
  };

  // å­˜å‚¨åŠ å¯†
  storage: {
    database: "AES-256 encryption";
    files: "Server-side encryption";
    backups: "Encrypted backups";
  };

  // æ•æ„Ÿæ•°æ®å¤„ç†
  sensitiveData: {
    password: "Bcrypt hashing";
    apiKeys: "Encrypted at rest";
    documents: "Granular access control";
  };
}
```

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

### ç›‘æ§ä½“ç³»
```yaml
# ç›‘æ§æŒ‡æ ‡
monitoring:
  # ç³»ç»ŸæŒ‡æ ‡
  system:
    - CPUä½¿ç”¨ç‡
    - å†…å­˜ä½¿ç”¨ç‡
    - ç£ç›˜ä½¿ç”¨ç‡
    - ç½‘ç»œæµé‡

  # åº”ç”¨æŒ‡æ ‡
  application:
    - APIå“åº”æ—¶é—´
    - è¯·æ±‚æˆåŠŸç‡
    - å¹¶å‘ç”¨æˆ·æ•°
    - é”™è¯¯ç‡

  # ä¸šåŠ¡æŒ‡æ ‡
  business:
    - æ ‡ä¹¦ç”Ÿæˆæ•°é‡
    - ç”¨æˆ·æ´»è·ƒåº¦
    - AIè°ƒç”¨é‡
    - è´¨é‡è¯„åˆ†

# æ—¥å¿—ç®¡ç†
logging:
  level: INFO
  format: JSON
  aggregation: ELK Stack
  retention: 90 days
```

### æ€§èƒ½ä¼˜åŒ–
```typescript
// æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
interface PerformanceOptimization {
  // å‰ç«¯ä¼˜åŒ–
  frontend: {
    codeSplitting: "Route-based code splitting";
    lazyLoading: "Component lazy loading";
    caching: "Service worker caching";
    compression: "Gzip/Brotli compression";
  };

  // åç«¯ä¼˜åŒ–
  backend: {
    database: "Connection pooling, query optimization";
    caching: "Multi-level caching strategy";
    async: "Asynchronous processing";
    loadBalancing: "Load balancer configuration";
  };

  // AIä¼˜åŒ–
  ai: {
    modelCaching: "Model response caching";
    batching: "Request batching";
    optimization: "Model quantization";
    fallback: "Model fallback strategy";
  };
}
```

---

*æ–‡æ¡£ç‰ˆæœ¬: v1.0*
*åˆ›å»ºæ—¶é—´: 2025å¹´11æœˆ14æ—¥*
*æ›´æ–°æ—¶é—´: 2025å¹´11æœˆ14æ—¥*
---
æ–‡æ¡£ç±»å‹: æ¶æ„æ–‡æ¡£
éœ€æ±‚ç¼–å·: DOC-2025-11-001
created_at: 2025-11-29
author: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
updated_at: 2025-11-30 00:25
updater: gemini-pro
status: å·²æ‰¹å‡†
---

# AIæ ‡ä¹¦æ™ºèƒ½åˆ›ä½œå¹³å° - æ•°æ®å­˜å‚¨æ¶æ„

> **å…³ç³»æ•°æ®åº“**: PostgreSQL 14+ (ä¸»æ•°æ®å­˜å‚¨)
> **ç¼“å­˜**: Redis 7+ (ä¼šè¯ã€ç¼“å­˜)
> **å‘é‡æ•°æ®åº“**: Elasticsearch 8+ (å‘é‡æ£€ç´¢å’Œå…¨æ–‡æœç´¢)
> **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ + Celery (å¼‚æ­¥ä»»åŠ¡å¤„ç†)
> **å›¾æ•°æ®åº“**: Neo4j (çŸ¥è¯†å›¾è°±å­˜å‚¨)

## ğŸ“‹ æ–‡æ¡£å¯¼èˆª

æœ¬æ–‡æ¡£æ˜¯æŠ€æœ¯æ¶æ„è®¾è®¡çš„ä¸€éƒ¨åˆ†,å…¶ä»–ç›¸å…³æ–‡æ¡£:

1. [00-æŠ€æœ¯æ¶æ„æ€»è§ˆ.md](./00-æŠ€æœ¯æ¶æ„æ€»è§ˆ.md) - æ•´ä½“æ¶æ„å’Œå‰ç«¯æŠ€æœ¯æ¶æ„
2. [01-åç«¯æœåŠ¡æ¶æ„.md](./01-åç«¯æœåŠ¡æ¶æ„.md) - Javaå’ŒPythonæœåŠ¡æ¶æ„è¯¦è§£
3. [02-AIèƒ½åŠ›æ¶æ„æ¦‚è¿°.md](./02-AIèƒ½åŠ›æ¶æ„æ¦‚è¿°.md) - AIæœåŠ¡æ¶æ„è®¾è®¡æ¦‚è¿°
4. **03-æ•°æ®å­˜å‚¨æ¶æ„.md**(æœ¬æ–‡æ¡£)- æ•°æ®å­˜å‚¨å’Œæ¶ˆæ¯é˜Ÿåˆ—æ¶æ„
5. [04-éƒ¨ç½²è¿ç»´æ¶æ„.md](./04-éƒ¨ç½²è¿ç»´æ¶æ„.md) - éƒ¨ç½²ã€å®‰å…¨å’Œç›‘æ§æ¶æ„

## ğŸ’¾ æ•°æ®å­˜å‚¨æ¶æ„

### æ•°æ®åº“è®¾è®¡
```sql
-- æ ¸å¿ƒæ•°æ®è¡¨ç»“æ„
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    company_id UUID REFERENCES companies(id),
    role VARCHAR(20) NOT NULL DEFAULT 'user',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- é¡¹ç›®è¡¨
CREATE TABLE projects (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(200) NOT NULL,
    description TEXT,
    tender_document_url VARCHAR(500),
    status VARCHAR(20) DEFAULT 'draft',
    deadline TIMESTAMP,
    budget DECIMAL(15,2),
    created_by UUID REFERENCES users(id),
    company_id UUID REFERENCES companies(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ¨¡æ¿è¡¨
CREATE TABLE templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(200) NOT NULL,
    description TEXT,
    category VARCHAR(50) NOT NULL,
    industry VARCHAR(50),
    content JSONB NOT NULL,
    variables JSONB,
    is_public BOOLEAN DEFAULT false,
    created_by UUID REFERENCES users(id),
    company_id UUID REFERENCES companies(id),
    version INTEGER DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ä¼ä¸šèƒ½åŠ›åº“è¡¨
CREATE TABLE enterprise_capabilities (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    company_id UUID REFERENCES companies(id),
    type VARCHAR(20) NOT NULL, -- 'product', 'service', 'project', 'personnel'
    name VARCHAR(200) NOT NULL,
    description TEXT,
    metadata JSONB,
    -- æ³¨æ„ï¼šå‘é‡å­˜å‚¨åœ¨Elasticsearchä¸­ï¼Œå›¾å…³ç³»å­˜å‚¨åœ¨Neo4jä¸­
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ ‡ä¹¦æ–‡æ¡£è¡¨
CREATE TABLE bid_documents (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id UUID REFERENCES projects(id),
    template_id UUID REFERENCES templates(id),
    title VARCHAR(200) NOT NULL,
    content JSONB NOT NULL,
    status VARCHAR(20) DEFAULT 'draft',
    quality_score DECIMAL(5,2),
    ai_generated BOOLEAN DEFAULT false,
    created_by UUID REFERENCES users(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ç¼“å­˜ç­–ç•¥
```typescript
// Redisç¼“å­˜è®¾è®¡
interface CacheStrategy {
  // ä¼šè¯ç¼“å­˜
  session: {
    key: "session:{user_id}";
    ttl: 86400;  // 24å°æ—¶
    data: UserSession;
  };

  // é¡¹ç›®æ•°æ®ç¼“å­˜
  project: {
    key: "project:{project_id}";
    ttl: 3600;   // 1å°æ—¶
    data: Project;
  };

  // æ¨¡æ¿ç¼“å­˜
  template: {
    key: "template:{template_id}";
    ttl: 7200;   // 2å°æ—¶
    data: Template;
  };

  // AIç”Ÿæˆç»“æœç¼“å­˜
  ai_generation: {
    key: "ai_gen:{hash}";
    ttl: 604800; // 7å¤©
    data: AIGenerationResult;
  };

  // å‘é‡æ£€ç´¢ç¼“å­˜
  vector_search: {
    key: "vector_search:{query_hash}";
    ttl: 1800;   // 30åˆ†é’Ÿ
    data: SearchResult[];
  };
}
```

## ğŸ”„ æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„

### å¼‚æ­¥ä»»åŠ¡å¤„ç†
```python
# Celeryä»»åŠ¡é˜Ÿåˆ—è®¾è®¡
from celery import Celery

celery_app = Celery('aibidcomposer')

# ä»»åŠ¡å®šä¹‰
@celery_app.task
def analyze_tender_document(document_id: str):
    """åˆ†ææ‹›æ ‡æ–‡æ¡£ï¼ˆè°ƒç”¨Python AIæœåŠ¡ï¼‰"""
    pass

@celery_app.task
def generate_bid_content(project_id: str, template_id: str):
    """ç”Ÿæˆæ ‡ä¹¦å†…å®¹ï¼ˆè°ƒç”¨Python AIæœåŠ¡ï¼‰"""
    pass

@celery_app.task
def check_document_quality(document_id: str):
    """æ£€æŸ¥æ–‡æ¡£è´¨é‡ï¼ˆè°ƒç”¨Python AIæœåŠ¡ï¼‰"""
    pass

@celery_app.task
def export_document(document_id: str, format: str):
    """å¯¼å‡ºæ–‡æ¡£ï¼ˆJavaæœåŠ¡å¤„ç†ï¼‰"""
    pass

# å·¥ä½œæµç¼–æ’
@celery_app.task
def bid_generation_workflow(project_id: str):
    """æ ‡ä¹¦ç”Ÿæˆå·¥ä½œæµ"""
    # 1. åˆ†ææ‹›æ ‡æ–‡ä»¶
    analysis = analyze_tender_document.delay(project_id)

    # 2. ç­‰å¾…åˆ†æå®Œæˆ
    analysis.get()

    # 3. ç”Ÿæˆæ ‡ä¹¦å†…å®¹
    generation = generate_bid_content.delay(project_id, template_id)

    # 4. ç­‰å¾…ç”Ÿæˆå®Œæˆ
    generation.get()

    # 5. è´¨é‡æ£€æŸ¥
    quality_check = check_document_quality.delay(document_id)

    return quality_check.get()
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **æŠ€æœ¯æ¶æ„æ€»è§ˆ**: [00-æŠ€æœ¯æ¶æ„æ€»è§ˆ.md](./00-æŠ€æœ¯æ¶æ„æ€»è§ˆ.md)
- **åç«¯æœåŠ¡æ¶æ„**: [01-åç«¯æœåŠ¡æ¶æ„.md](./01-åç«¯æœåŠ¡æ¶æ„.md)
- **AIèƒ½åŠ›æ¶æ„**: [02-AIèƒ½åŠ›æ¶æ„æ¦‚è¿°.md](./02-AIèƒ½åŠ›æ¶æ„æ¦‚è¿°.md)
- **æ•°æ®åº“è®¾è®¡è¯¦è§£**: [@docs/03-æ¶æ„è®¾è®¡/02-æ•°æ®åº“è®¾è®¡.md](../02-æ•°æ®åº“è®¾è®¡.md)
- **éƒ¨ç½²è¿ç»´æ¶æ„**: [04-éƒ¨ç½²è¿ç»´æ¶æ„.md](./04-éƒ¨ç½²è¿ç»´æ¶æ„.md)

## ä¿®æ”¹å†å²

| æ—¥æœŸ | ç‰ˆæœ¬ | ä¿®æ”¹è€… | ä¿®æ”¹å†…å®¹æ¦‚è¦ |
|------|------|--------|-------------|
| 2025-11-30 00:25 | 1.1 | gemini-pro | æ˜ç¡®Elasticsearchä¸ºå‘é‡æ£€ç´¢ï¼ŒNeo4jä¸ºå›¾æ•°æ®åº“ï¼Œå¹¶è°ƒæ•´Redisç¼“å­˜ç”¨é€”ã€‚ |
| 2025-11-29 | 1.0 | claude-sonnet-4-5 (claude-sonnet-4-5-20250929) | ä»02-æŠ€æœ¯æ¶æ„è®¾è®¡.mdæ‹†åˆ†åˆ›å»ºæ•°æ®å­˜å‚¨æ¶æ„æ–‡æ¡£ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´11æœˆ29æ—¥
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²æ‰¹å‡†

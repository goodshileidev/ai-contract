---
文档类型: 知识库文档
需求编号: DOC-2025-11-005
创建日期: 2025-11-26
创建者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
最后更新: 2025-11-26
更新者: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
状态: 已批准
---

# TypeScript 代码规范 - 2. 格式化规范

### 2.1 缩进

- **2个空格** 为一个缩进层级（前端约定）
- **禁止使用 Tab**

```typescript
// ✅ 正确：2空格缩进
function processUser(user: User): void {
  if (user.isActive) {
    console.log(user.name);
  }
}
```

### 2.2 行长度

- **每行最多 100 字符**
- 例外：长 URL、导入语句

### 2.3 分号

- **必须使用分号**

```typescript
// ✅ 正确
const name = 'John';
const age = 30;

// ❌ 错误
const name = 'John'  // ❌ 缺少分号
const age = 30       // ❌ 缺少分号
```

### 2.4 大括号

**K&R 风格**：
```typescript
// ✅ 正确
if (condition) {
  doSomething();
} else {
  doSomethingElse();
}

// ✅ 即使只有一行也要加大括号
if (condition) {
  return true;
}

// ❌ 错误：省略大括号
if (condition)
  return true;  // ❌ 容易引入bug

// ❌ 错误：大括号单独成行
if (condition)
{  // ❌ 不符合 K&R 风格
  doSomething();
}
```

### 2.5 空格

```typescript
// ✅ 正确：运算符两侧有空格
const sum = a + b;
if (x === y) {
  // ...
}

// ✅ 正确：逗号后有空格
const arr = [1, 2, 3];
const obj = { name: 'John', age: 30 };

// ✅ 正确：冒号在对象中的使用
{ key: 'value' }  // 冒号后有空格，前面没有

// ❌ 错误：多余的空格
const arr = [ 1, 2, 3 ];  // ❌ 括号内不要空格
const obj = { name:'John' };  // ❌ 冒号后要空格
```

### 2.6 尾随逗号

**必须使用尾随逗号**（多行时）：
```typescript
// ✅ 正确：多行时使用尾随逗号
const user = {
  name: 'John',
  age: 30,
  email: 'john@example.com',  // ✅ 尾随逗号
};

const items = [
  'item1',
  'item2',
  'item3',  // ✅ 尾随逗号
];

// ✅ 单行时不需要尾随逗号
const user = { name: 'John', age: 30 };
```

---

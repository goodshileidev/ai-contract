---
æ–‡æ¡£ç±»å‹: æ¶æ„æ–‡æ¡£
éœ€æ±‚ç¼–å·: DOC-2025-11-002
åˆ›å»ºæ—¥æœŸ: 2025-11-15
åˆ›å»ºè€…: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
æœ€åæ›´æ–°: 2025-11-26
æ›´æ–°è€…: claude-sonnet-4-5 (claude-sonnet-4-5-20250929)
çŠ¶æ€: å·²æ‰¹å‡†
---

# AIæ ‡ä¹¦æ™ºèƒ½åˆ›ä½œå¹³å° - æŠ€æœ¯æ¶æ„è¯¦ç»†å®ç° - ğŸ¨ å‰ç«¯æ¶æ„è¯¦ç»†å®ç°

### ç»„ä»¶æ¶æ„è®¾è®¡
```typescript
// ç»„ä»¶å±‚æ¬¡ç»“æ„è¯¦ç»†è®¾è®¡
src/
â”œâ”€â”€ components/                    # é€šç”¨ç»„ä»¶åº“
â”‚   â”œâ”€â”€ ui/                       # åŸºç¡€UIç»„ä»¶ï¼ˆAnt Design Proï¼‰
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.styles.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.types.ts
â”‚   â”‚   â”‚   â””â”€â”€ Button.test.tsx
â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â”œâ”€â”€ Table/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ forms/                    # è¡¨å•ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FormField/
â”‚   â”‚   â”œâ”€â”€ FormValidation/
â”‚   â”‚   â””â”€â”€ FormBuilder/
â”‚   â”œâ”€â”€ layout/                   # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â”œâ”€â”€ Footer/
â”‚   â”‚   â””â”€â”€ ProLayout/           # Ant Design Pro Layout
â”‚   â””â”€â”€ charts/                   # å›¾è¡¨ç»„ä»¶
â”‚       â”œâ”€â”€ LineChart/
â”‚       â”œâ”€â”€ BarChart/
â”‚       â””â”€â”€ PieChart/
â”œâ”€â”€ features/                     # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ auth/                     # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”œâ”€â”€ projects/                 # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectList/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectDetail/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectForm/
â”‚   â”‚   â”‚   â””â”€â”€ ProjectDashboard/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useProjects.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useProjectDetail.ts
â”‚   â”‚   â”‚   â””â”€â”€ useProjectForm.ts
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ projectApi.ts
â”‚   â”‚   â”‚   â””â”€â”€ projectUtils.ts
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â”œâ”€â”€ project.types.ts
â”‚   â”‚       â””â”€â”€ projectApi.types.ts
â”‚   â”œâ”€â”€ templates/                # æ¨¡æ¿ç®¡ç†
â”‚   â”œâ”€â”€ ai-assistant/             # AIåŠ©æ‰‹
â”‚   â”œâ”€â”€ documents/                # æ–‡æ¡£ç®¡ç†
â”‚   â”œâ”€â”€ collaboration/            # åä½œåŠŸèƒ½
â”‚   â””â”€â”€ export/                   # å¯¼å‡ºåŠŸèƒ½
â”œâ”€â”€ hooks/                        # å…¨å±€Hooks
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useApi.ts
â”‚   â”œâ”€â”€ useLocalStorage.ts
â”‚   â””â”€â”€ useWebSocket.ts
â”œâ”€â”€ services/                     # APIæœåŠ¡
â”‚   â”œâ”€â”€ api.ts                    # APIåŸºç¡€é…ç½®
â”‚   â”œâ”€â”€ javaService.ts            # JavaæœåŠ¡API
â”‚   â”œâ”€â”€ aiService.ts              # Python AIæœåŠ¡API
â”‚   â”œâ”€â”€ auth.ts                   # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ projects.ts               # é¡¹ç›®æœåŠ¡
â”‚   â”œâ”€â”€ templates.ts              # æ¨¡æ¿æœåŠ¡
â”‚   â””â”€â”€ documents.ts              # æ–‡æ¡£æœåŠ¡
â”œâ”€â”€ stores/                       # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”œâ”€â”€ projectStore.ts
â”‚   â”œâ”€â”€ uiStore.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ constants.ts
â”‚   â”œâ”€â”€ helpers.ts
â”‚   â”œâ”€â”€ validators.ts
â”‚   â””â”€â”€ formatters.ts
â”œâ”€â”€ types/                        # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ api.types.ts
â”‚   â”œâ”€â”€ auth.types.ts
â”‚   â”œâ”€â”€ project.types.ts
â”‚   â””â”€â”€ common.types.ts
â””â”€â”€ styles/                       # æ ·å¼æ–‡ä»¶
    â”œâ”€â”€ globals.less              # Ant Designä½¿ç”¨Less
    â”œâ”€â”€ variables.less
    â””â”€â”€ components/
```

### APIæœåŠ¡å°è£…å®ç°
```typescript
// æœåŠ¡åŸºç¡€é…ç½® - services/api.ts
import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';

// Javaä¸šåŠ¡æœåŠ¡é…ç½®
const javaServiceConfig: AxiosRequestConfig = {
  baseURL: import.meta.env.VITE_JAVA_SERVICE_URL || 'http://localhost:8080/api/v1',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
};

// Python AIæœåŠ¡é…ç½®
const aiServiceConfig: AxiosRequestConfig = {
  baseURL: import.meta.env.VITE_AI_SERVICE_URL || 'http://localhost:8001/api/v1',
  timeout: 60000, // AIæœåŠ¡å“åº”æ—¶é—´è¾ƒé•¿
  headers: {
    'Content-Type': 'application/json',
  },
};

// åˆ›å»ºaxioså®ä¾‹
export const javaServiceClient: AxiosInstance = axios.create(javaServiceConfig);
export const aiServiceClient: AxiosInstance = axios.create(aiServiceConfig);

// è¯·æ±‚æ‹¦æˆªå™¨ - æ·»åŠ è®¤è¯token
const requestInterceptor = (config: any) => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
};

javaServiceClient.interceptors.request.use(requestInterceptor);
aiServiceClient.interceptors.request.use(requestInterceptor);

// å“åº”æ‹¦æˆªå™¨ - ç»Ÿä¸€é”™è¯¯å¤„ç†
const responseInterceptor = (error: any) => {
  if (error.response?.status === 401) {
    // Tokenè¿‡æœŸï¼Œè·³è½¬ç™»å½•
    window.location.href = '/login';
  }
  return Promise.reject(error);
};

javaServiceClient.interceptors.response.use(
  (response) => response,
  responseInterceptor
);

aiServiceClient.interceptors.response.use(
  (response) => response,
  responseInterceptor
);

// é¡¹ç›®æœåŠ¡API - services/projects.ts
import { javaServiceClient, aiServiceClient } from './api';
import type { Project, CreateProjectRequest, DocumentAnalysisRequest } from '@/types';

export const projectService = {
  // JavaæœåŠ¡ - é¡¹ç›®CRUDæ“ä½œ
  async getProjects(params?: {
    page?: number;
    limit?: number;
    status?: string;
    search?: string;
  }) {
    const response = await javaServiceClient.get('/projects', { params });
    return response.data;
  },

  async getProject(id: string) {
    const response = await javaServiceClient.get(`/projects/${id}`);
    return response.data;
  },

  async createProject(data: CreateProjectRequest) {
    const response = await javaServiceClient.post('/projects', data);
    return response.data;
  },

  async updateProject(id: string, data: Partial<Project>) {
    const response = await javaServiceClient.put(`/projects/${id}`, data);
    return response.data;
  },

  async deleteProject(id: string) {
    const response = await javaServiceClient.delete(`/projects/${id}`);
    return response.data;
  },

  // Python AIæœåŠ¡ - æ‹›æ ‡æ–‡æ¡£åˆ†æ
  async analyzeTenderDocument(data: DocumentAnalysisRequest) {
    const response = await aiServiceClient.post('/analyze/document', data);
    return response.data;
  },

  // Python AIæœåŠ¡ - ç”Ÿæˆæ ‡ä¹¦å†…å®¹
  async generateBidContent(data: {
    projectId: string;
    templateId: string;
    requirements: object;
    companyProfile: object;
  }) {
    const response = await aiServiceClient.post('/generate/content', data);
    return response.data;
  },
};
```

### çŠ¶æ€ç®¡ç†è¯¦ç»†å®ç°
```typescript
// ä½¿ç”¨Zustandè¿›è¡ŒçŠ¶æ€ç®¡ç† - stores/projectStore.ts
import { create } from 'zustand';
import { devtools, persist } from 'zustand/middleware';
import { projectService } from '@/services/projects';
import type { Project, ProjectFilters, Pagination } from '@/types';

interface ProjectState {
  projects: Project[];
  currentProject: Project | null;
  loading: boolean;
  error: string | null;
  filters: ProjectFilters;
  pagination: Pagination;

  // Actions
  fetchProjects: (params?: any) => Promise<void>;
  fetchProject: (id: string) => Promise<void>;
  createProject: (project: any) => Promise<Project>;
  updateProject: (id: string, project: any) => Promise<Project>;
  deleteProject: (id: string) => Promise<void>;
  analyzeTender: (documentId: string, content: string) => Promise<any>;
  generateContent: (params: any) => Promise<any>;
  setFilters: (filters: Partial<ProjectFilters>) => void;
  setPagination: (pagination: Partial<Pagination>) => void;
  reset: () => void;
}

const initialState = {
  projects: [],
  currentProject: null,
  loading: false,
  error: null,
  filters: {},
  pagination: { page: 1, limit: 20, total: 0 },
};

export const useProjectStore = create<ProjectState>()(
  devtools(
    persist(
      (set, get) => ({
        ...initialState,

        fetchProjects: async (params) => {
          set({ loading: true, error: null });

          try {
            const response = await projectService.getProjects({
              ...get().filters,
              ...get().pagination,
              ...params,
            });

            set({
              projects: response.data.projects,
              pagination: response.data.pagination,
              loading: false,
            });
          } catch (error: any) {
            set({
              error: error.message,
              loading: false,
            });
          }
        },

        fetchProject: async (id) => {
          set({ loading: true, error: null });

          try {
            const response = await projectService.getProject(id);
            set({
              currentProject: response.data,
              loading: false,
            });
          } catch (error: any) {
            set({
              error: error.message,
              loading: false,
            });
          }
        },

        createProject: async (project) => {
          try {
            const response = await projectService.createProject(project);
            const newProject = response.data;

            set((state) => ({
              projects: [newProject, ...state.projects],
            }));

            return newProject;
          } catch (error: any) {
            set({ error: error.message });
            throw error;
          }
        },

        updateProject: async (id, project) => {
          try {
            const response = await projectService.updateProject(id, project);
            const updatedProject = response.data;

            set((state) => ({
              projects: state.projects.map((p) =>
                p.id === id ? updatedProject : p
              ),
              currentProject:
                state.currentProject?.id === id
                  ? updatedProject
                  : state.currentProject,
            }));

            return updatedProject;
          } catch (error: any) {
            set({ error: error.message });
            throw error;
          }
        },

        deleteProject: async (id) => {
          try {
            await projectService.deleteProject(id);

            set((state) => ({
              projects: state.projects.filter((p) => p.id !== id),
              currentProject:
                state.currentProject?.id === id ? null : state.currentProject,
            }));
          } catch (error: any) {
            set({ error: error.message });
            throw error;
          }
        },

        // AIæœåŠ¡è°ƒç”¨
        analyzeTender: async (documentId, content) => {
          set({ loading: true, error: null });

          try {
            const response = await projectService.analyzeTenderDocument({
              documentId,
              documentContent: content,
              documentType: 'tender',
              analysisOptions: ['requirements', 'risks', 'opportunities'],
            });

            set({ loading: false });
            return response.data;
          } catch (error: any) {
            set({ error: error.message, loading: false });
            throw error;
          }
        },

        generateContent: async (params) => {
          set({ loading: true, error: null });

          try {
            const response = await projectService.generateBidContent(params);
            set({ loading: false });
            return response.data;
          } catch (error: any) {
            set({ error: error.message, loading: false });
            throw error;
          }
        },

        setFilters: (filters) => {
          set((state) => ({
            filters: { ...state.filters, ...filters },
          }));
        },

        setPagination: (pagination) => {
          set((state) => ({
            pagination: { ...state.pagination, ...pagination },
          }));
        },

        reset: () => set(initialState),
      }),
      {
        name: 'project-store',
        partialize: (state) => ({
          filters: state.filters,
          pagination: state.pagination,
        }),
      }
    ),
    { name: 'project-store' }
  )
);
```
